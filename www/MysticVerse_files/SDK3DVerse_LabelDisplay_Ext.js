!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("SDK3DVerse_LabelDisplay_Ext",[],e):"object"==typeof exports?exports.SDK3DVerse_LabelDisplay_Ext=e():t.SDK3DVerse_LabelDisplay_Ext=e()}("undefined"!=typeof self?self:this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=215)}([function(t,e,n){"use strict";n.r(e),n.d(e,"EPSILON",(function(){return r})),n.d(e,"ARRAY_TYPE",(function(){return i})),n.d(e,"RANDOM",(function(){return o})),n.d(e,"setMatrixArrayType",(function(){return a})),n.d(e,"toRadian",(function(){return u})),n.d(e,"equals",(function(){return c}));var r=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;function a(t){i=t}var s=Math.PI/180;function u(t){return t*s}function c(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))}},,function(t,e,n){var r=n(4),i=n(18),o=n(10),a=n(16),s=n(13),u=function(t,e,n){var c,f,h,l,p=t&u.F,d=t&u.G,v=t&u.S,y=t&u.P,m=t&u.B,g=d?r:v?r[e]||(r[e]={}):(r[e]||{}).prototype,_=d?i:i[e]||(i[e]={}),b=_.prototype||(_.prototype={});for(c in d&&(n=e),n)h=((f=!p&&g&&void 0!==g[c])?g:n)[c],l=m&&f?s(h,r):y&&"function"==typeof h?s(Function.call,h):h,g&&a(g,c,h,t&u.U),_[c]!=h&&o(_,c,l),y&&b[c]!=h&&(b[c]=h)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(34)("wks"),i=n(19),o=n(4).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(8),i=n(68),o=n(37),a=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(9)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(5);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(6),i=n(26);t.exports=n(7)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"l",(function(){return s})),n.d(e,"a",(function(){return u})),n.d(e,"k",(function(){return c})),n.d(e,"h",(function(){return f})),n.d(e,"m",(function(){return h})),n.d(e,"j",(function(){return l})),n.d(e,"d",(function(){return p})),n.d(e,"i",(function(){return d})),n.d(e,"f",(function(){return v})),n.d(e,"e",(function(){return y}));var r=n(0);function i(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(t,e,n,i){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function s(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function u(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function c(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function f(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}function h(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function l(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t}function p(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function d(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t}function v(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function y(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=e[0],u=e[1],c=e[2],f=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-f)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))}var m,g;m=new r.ARRAY_TYPE(4),r.ARRAY_TYPE!=Float32Array&&(m[0]=0,m[1]=0,m[2]=0,m[3]=0),g=m},function(t,e,n){"use strict";n.r(e),n.d(e,"create",(function(){return i})),n.d(e,"clone",(function(){return o})),n.d(e,"length",(function(){return a})),n.d(e,"fromValues",(function(){return s})),n.d(e,"copy",(function(){return u})),n.d(e,"set",(function(){return c})),n.d(e,"add",(function(){return f})),n.d(e,"subtract",(function(){return h})),n.d(e,"multiply",(function(){return l})),n.d(e,"divide",(function(){return p})),n.d(e,"ceil",(function(){return d})),n.d(e,"floor",(function(){return v})),n.d(e,"min",(function(){return y})),n.d(e,"max",(function(){return m})),n.d(e,"round",(function(){return g})),n.d(e,"scale",(function(){return _})),n.d(e,"scaleAndAdd",(function(){return b})),n.d(e,"distance",(function(){return w})),n.d(e,"squaredDistance",(function(){return A})),n.d(e,"squaredLength",(function(){return E})),n.d(e,"negate",(function(){return x})),n.d(e,"inverse",(function(){return M})),n.d(e,"normalize",(function(){return P})),n.d(e,"dot",(function(){return S})),n.d(e,"cross",(function(){return C})),n.d(e,"lerp",(function(){return O})),n.d(e,"hermite",(function(){return k})),n.d(e,"bezier",(function(){return I})),n.d(e,"random",(function(){return T})),n.d(e,"transformMat4",(function(){return L})),n.d(e,"transformMat3",(function(){return R})),n.d(e,"transformQuat",(function(){return U})),n.d(e,"rotateX",(function(){return D})),n.d(e,"rotateY",(function(){return j})),n.d(e,"rotateZ",(function(){return N})),n.d(e,"angle",(function(){return B})),n.d(e,"zero",(function(){return F})),n.d(e,"str",(function(){return Y})),n.d(e,"exactEquals",(function(){return V})),n.d(e,"equals",(function(){return z})),n.d(e,"sub",(function(){return G})),n.d(e,"mul",(function(){return W})),n.d(e,"div",(function(){return X})),n.d(e,"dist",(function(){return H})),n.d(e,"sqrDist",(function(){return K})),n.d(e,"len",(function(){return Z})),n.d(e,"sqrLen",(function(){return J})),n.d(e,"forEach",(function(){return Q}));var r=n(0);function i(){var t=new r.ARRAY_TYPE(3);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function a(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function s(t,e,n){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function c(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function f(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function h(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function l(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function p(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function v(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function y(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function m(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function g(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function _(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function b(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function w(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function A(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function E(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function x(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function M(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function P(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function S(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function C(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}function O(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function k(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),f=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*c+i[0]*f,t[1]=e[1]*s+n[1]*u+r[1]*c+i[1]*f,t[2]=e[2]*s+n[2]*u+r[2]*c+i[2]*f,t}function I(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,f=3*o*s,h=3*u*a,l=u*o;return t[0]=e[0]*c+n[0]*f+r[0]*h+i[0]*l,t[1]=e[1]*c+n[1]*f+r[1]*h+i[1]*l,t[2]=e[2]*c+n[2]*f+r[2]*h+i[2]*l,t}function T(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=i*e,t}function L(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function R(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function U(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],c=e[2],f=i*c-o*u,h=o*s-r*c,l=r*u-i*s,p=i*l-o*h,d=o*f-r*l,v=r*h-i*f,y=2*a;return f*=y,h*=y,l*=y,p*=2,d*=2,v*=2,t[0]=s+f+p,t[1]=u+h+d,t[2]=c+l+v,t}function D(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function j(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function N(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function B(t,e){var n=s(t[0],t[1],t[2]),r=s(e[0],e[1],e[2]);P(n,n),P(r,r);var i=S(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)}function F(t){return t[0]=0,t[1]=0,t[2]=0,t}function Y(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function V(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function z(t,e){var n=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))}var q,G=h,W=l,X=p,H=w,K=A,Z=a,J=E,Q=(q=i(),function(t,e,n,r,i,o){var a,s;for(e||(e=3),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)q[0]=t[a],q[1]=t[a+1],q[2]=t[a+2],i(q,q,o),t[a]=q[0],t[a+1]=q[1],t[a+2]=q[2];return t})},function(t,e,n){var r=n(32);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";(function(t,r,i,o){n.d(e,"a",(function(){return l}));n(38),n(39),n(21),n(90),n(55),n(56),n(122),n(126);var a=n(89),s=n.n(a),u=n(61),c=n(104);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,a,l;return n=e,l=[{key:"clone",value:function(t){var n;if(null==t||"object"!=f(t))return t;if(t instanceof Date)return(n=new Date).setTime(t.getTime()),n;if(t instanceof Array){n=[];for(var r=0,i=t.length;r<i;r++)n[r]=e.clone(t[r]);return n}if(t instanceof c.a)return{};if(t instanceof u.a)return{};if(t instanceof Object){for(var o in n={},t)t.hasOwnProperty(o)&&(n[o]=e.clone(t[o]));return n}throw new Error("Unable to copy obj! Its type isn't supported.")}},{key:"fillMousePosBuffer",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=new ArrayBuffer(r),o=new DataView(i),a=t.getClientRects()[0],s=(e-a.left)/a.width,u=(n-a.top)/a.height;return o.setFloat32(0,s,!0),o.setFloat32(4,u,!0),i}},{key:"fillPinchPosBuffer",value:function(t,e,n,r,i,o,a){var s=new ArrayBuffer(16),u=new DataView(s);if(document.body.clientWidth*(a/o)<=window.innerHeight)var c=document.body.clientWidth*(a/o),f=document.body.clientWidth,h=t.offsetTop+(window.innerHeight-c)/2,l=t.offsetLeft;else c=window.innerHeight,f=window.innerHeight*(o/a),h=t.offsetTop,l=t.offsetLeft+(document.body.clientWidth-f)/2;var p=Math.max(0,Math.min(1,(e-l)/f)),d=Math.max(0,Math.min(1,(n-h)/c)),v=Math.max(0,Math.min(1,(r-l)/f)),y=Math.max(0,Math.min(1,(i-h)/c));return u.setFloat32(0,p,!0),u.setFloat32(4,d,!0),u.setFloat32(8,v,!0),u.setFloat32(12,y,!0),s}},{key:"arrayBufferToString",value:function(t){for(var e="",n=new Uint8Array(t),r=0;r<t.byteLength;++r)e+=String.fromCharCode(n[r]);return e}},{key:"matrixToTransform",value:function(e){var n=t.create(),o=r.create(),a=t.create();return i.getTranslation(n,e),i.getRotation(o,e),i.getScaling(a,e),{position:Array.from(n),orientation:Array.from(o),scale:Array.from(a)}}},{key:"serializeUUID",value:function(t,e,n){var r=new o(t),i=new Uint8Array(r.export()),a=new DataView(i.buffer),s=a.getUint32(0,!1),u=a.getUint16(4,!1),c=a.getUint16(6,!1);e.setUint32(n+0,s,!0),e.setUint16(n+4,u,!0),e.setUint16(n+6,c,!0);for(var f=8;f<16;f++)e.setUint8(n+f,a.getUint8(f),!0)}},{key:"resolveComponentDependencies",value:function(t,n){var r=SDK3DVerse.engineAPI.getComponentDescription(n).dependencies;if(r)for(var i in r)t.hasOwnProperty(r[i])||e.resolveComponentDependencies(t,r[i]);t[n]=SDK3DVerse.engineAPI.getComponentDefaultValue(n)}},{key:"getAssetFromEvent",value:function(t){var e=t.dataTransfer.getData("3dverse/asset");return e?JSON.parse(e):null}},{key:"preventIfEventContainsAsset",value:function(t){var e=-1!=t.dataTransfer.types.indexOf("3dverse/asset");return e&&t.preventDefault(),e}},{key:"getComponentClassNameFromAssetLabel",value:function(t){switch(t){case"Scene":return"scene_ref";case"Mesh":return"mesh_ref";case"Material":return"material_ref";case"Shader":return"material";case"Texture3D":return"volume_ref";case"VolumeMaterial":return"volume_material_ref";case"Script":return"script_map";default:return}}},{key:"alignForYUV",value:function(t,e){return{width:t-t%16,height:e-e%16}}},{key:"uuidToUint8Array",value:function(t){var e=new o(t),n=new Uint8Array(e.export()),r=new Uint8Array(n),i=new DataView(n.buffer),a=new DataView(r.buffer),s=i.getUint32(0,!1),u=i.getUint16(4,!1),c=i.getUint16(6,!1);return a.setUint32(0,s,!0),a.setUint16(4,u,!0),a.setUint16(6,c,!0),r}},{key:"generateRTID",value:function(){var t;if(1==arguments.length)t=e.uuidToUint8Array(arguments.length<=0?void 0:arguments[0]);else{t=new Uint8Array(8);var n=new DataView(t.buffer);this.writeRTID(arguments.length<=0?void 0:arguments[0],n,0),this.writeRTID(arguments.length<=1?void 0:arguments[1],n,4)}return s.a.h32().update(t.buffer).digest()}},{key:"readRTID",value:function(t,e){return t.getUint32(e,!0)}},{key:"writeRTID",value:function(t,e,n){"number"==typeof t?e.setUint32(n,t,!0):(e.setUint16(n+0,t._low,!0),e.setUint16(n+2,t._high,!0))}},{key:"getIdentityTransform",value:function(){return{position:[0,0,0],orientation:[0,0,0,1],scale:[1,1,1]}}},{key:"getXXH",value:function(){return s.a}},{key:"appendByteArray",value:function(t,e){var n=new Uint8Array((0|t.byteLength)+(0|e.byteLength));return n.set(t,0),n.set(e,0|t.byteLength),n}},{key:"hexToRgb",value:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:(console.warn("Invalid hex color :",t),null)}}],(a=null)&&h(n.prototype,a),l&&h(n,l),e}()}).call(this,n(12),n(91),n(94),n(133))},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(4),i=n(10),o=n(15),a=n(19)("src"),s=n(105),u=(""+s).split("toString");n(18).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(t,e,n){var r=n(28),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=t.exports={version:"2.6.4"};"number"==typeof __e&&(__e=n)},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=!1},function(t,e,n){var r=n(2);r(r.S+r.F*!n(7),"Object",{defineProperty:n(6).f})},function(t,e,n){var r=n(29);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(66),i=n(29);t.exports=function(t){return r(i(t))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports={}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(6).f,i=n(15),o=n(3)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(69),i=n(50);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(13),i=n(66),o=n(22),a=n(17),s=n(112);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,f=4==t,h=6==t,l=5==t||h,p=e||s;return function(e,s,d){for(var v,y,m=o(e),g=i(m),_=r(s,d,3),b=a(g.length),w=0,A=n?p(e,b):u?p(e,0):void 0;b>w;w++)if((l||w in g)&&(y=_(v=g[w],w,m),t))if(n)A[w]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:A.push(v)}else if(f)return!1;return h?-1:c||f?f:A}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(8),i=n(100),o=n(50),a=n(49)("IE_PROTO"),s=function(){},u=function(){var t,e=n(48)("iframe"),r=o.length;for(e.style.display="none",n(70).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(18),i=n(4),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(20)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){"use strict";var r=n(44),i=n(82),o=n(25),a=n(23);t.exports=n(58)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r=n(9);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){n(73)("asyncIterator")},function(t,e,n){"use strict";var r=n(4),i=n(15),o=n(7),a=n(2),s=n(16),u=n(65).KEY,c=n(9),f=n(34),h=n(27),l=n(19),p=n(3),d=n(74),v=n(73),y=n(114),m=n(53),g=n(8),_=n(5),b=n(23),w=n(37),A=n(26),E=n(33),x=n(115),M=n(54),P=n(6),S=n(30),C=M.f,O=P.f,k=x.f,I=r.Symbol,T=r.JSON,L=T&&T.stringify,R=p("_hidden"),U=p("toPrimitive"),D={}.propertyIsEnumerable,j=f("symbol-registry"),N=f("symbols"),B=f("op-symbols"),F=Object.prototype,Y="function"==typeof I,V=r.QObject,z=!V||!V.prototype||!V.prototype.findChild,q=o&&c((function(){return 7!=E(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=C(F,e);r&&delete F[e],O(t,e,n),r&&t!==F&&O(F,e,r)}:O,G=function(t){var e=N[t]=E(I.prototype);return e._k=t,e},W=Y&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},X=function(t,e,n){return t===F&&X(B,e,n),g(t),e=w(e,!0),g(n),i(N,e)?(n.enumerable?(i(t,R)&&t[R][e]&&(t[R][e]=!1),n=E(n,{enumerable:A(0,!1)})):(i(t,R)||O(t,R,A(1,{})),t[R][e]=!0),q(t,e,n)):O(t,e,n)},H=function(t,e){g(t);for(var n,r=y(e=b(e)),i=0,o=r.length;o>i;)X(t,n=r[i++],e[n]);return t},K=function(t){var e=D.call(this,t=w(t,!0));return!(this===F&&i(N,t)&&!i(B,t))&&(!(e||!i(this,t)||!i(N,t)||i(this,R)&&this[R][t])||e)},Z=function(t,e){if(t=b(t),e=w(e,!0),t!==F||!i(N,e)||i(B,e)){var n=C(t,e);return!n||!i(N,e)||i(t,R)&&t[R][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=k(b(t)),r=[],o=0;n.length>o;)i(N,e=n[o++])||e==R||e==u||r.push(e);return r},Q=function(t){for(var e,n=t===F,r=k(n?B:b(t)),o=[],a=0;r.length>a;)!i(N,e=r[a++])||n&&!i(F,e)||o.push(N[e]);return o};Y||(s((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:void 0),e=function(n){this===F&&e.call(B,n),i(this,R)&&i(this[R],t)&&(this[R][t]=!1),q(this,t,A(1,n))};return o&&z&&q(F,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",(function(){return this._k})),M.f=Z,P.f=X,n(43).f=x.f=J,n(47).f=K,n(67).f=Q,o&&!n(20)&&s(F,"propertyIsEnumerable",K,!0),d.f=function(t){return G(p(t))}),a(a.G+a.W+a.F*!Y,{Symbol:I});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;$.length>tt;)p($[tt++]);for(var et=S(p.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!Y,"Symbol",{for:function(t){return i(j,t+="")?j[t]:j[t]=I(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in j)if(j[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!Y,"Object",{create:function(t,e){return void 0===e?E(t):H(E(t),e)},defineProperty:X,defineProperties:H,getOwnPropertyDescriptor:Z,getOwnPropertyNames:J,getOwnPropertySymbols:Q}),T&&a(a.S+a.F*(!Y||c((function(){var t=I();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(_(e)||void 0!==t)&&!W(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,L.apply(T,r)}}),I.prototype[U]||n(10)(I.prototype,U,I.prototype.valueOf),h(I,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){for(var r=n(35),i=n(30),o=n(16),a=n(4),s=n(10),u=n(25),c=n(3),f=c("iterator"),h=c("toStringTag"),l=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),v=0;v<d.length;v++){var y,m=d[v],g=p[m],_=a[m],b=_&&_.prototype;if(b&&(b[f]||s(b,f,l),b[h]||s(b,h,m),u[m]=l,g))for(y in r)b[y]||o(b,y,r[y],!0)}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(16);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(69),i=n(50).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(3)("unscopables"),i=Array.prototype;null==i[r]&&n(10)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(23),i=n(17),o=n(51);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),f=o(a,c);if(t&&n!=n){for(;c>f;)if((s=u[f++])!=s)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(3)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(5),i=n(4).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(34)("keys"),i=n(19);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(28),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(24),i=n(3)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(24);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(47),i=n(26),o=n(23),a=n(37),s=n(15),u=n(68),c=Object.getOwnPropertyDescriptor;e.f=n(7)?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){"use strict";var r=n(121)(!0);n(58)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){"use strict";var r=n(13),i=n(2),o=n(22),a=n(77),s=n(59),u=n(17),c=n(125),f=n(60);i(i.S+i.F*!n(46)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,h,l=o(t),p="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,y=void 0!==v,m=0,g=f(l);if(y&&(v=r(v,d>2?arguments[2]:void 0,2)),null==g||p==Array&&s(g))for(n=new p(e=u(l.length));e>m;m++)c(n,m,y?v(l[m],m):l[m]);else for(h=g.call(l),n=new p;!(i=h.next()).done;m++)c(n,m,y?a(h,v,[i.value,m],!0):i.value);return n.length=m,n}})},function(t,e,n){"use strict";var r,i,o,a,s=n(20),u=n(4),c=n(13),f=n(52),h=n(2),l=n(5),p=n(32),d=n(41),v=n(63),y=n(79),m=n(71).set,g=n(107)(),_=n(72),b=n(108),w=n(102),A=n(109),E=u.TypeError,x=u.process,M=x&&x.versions,P=M&&M.v8||"",S=u.Promise,C="process"==f(x),O=function(){},k=i=_.f,I=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[n(3)("species")]=function(t){t(O,O)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof e&&0!==P.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),T=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},L=function(t,e){if(!t._n){t._n=!0;var n=t._c;g((function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,u=e.resolve,c=e.reject,f=e.domain;try{s?(i||(2==t._h&&D(t),t._h=1),!0===s?n=r:(f&&f.enter(),n=s(r),f&&(f.exit(),a=!0)),n===e.promise?c(E("Promise-chain cycle")):(o=T(n))?o.call(n,u,c):u(n)):c(r)}catch(t){f&&!a&&f.exit(),c(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&R(t)}))}},R=function(t){m.call(u,(function(){var e,n,r,i=t._v,o=U(t);if(o&&(e=b((function(){C?x.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=C||U(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},U=function(t){return 1!==t._h&&0===(t._a||t._c).length},D=function(t){m.call(u,(function(){var e;C?x.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},j=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw E("Promise can't be resolved itself");(e=T(t))?g((function(){var r={_w:n,_d:!1};try{e.call(t,c(N,r,1),c(j,r,1))}catch(t){j.call(r,t)}})):(n._v=t,n._s=1,L(n,!1))}catch(t){j.call({_w:n,_d:!1},t)}}};I||(S=function(t){d(this,S,"Promise","_h"),p(t),r.call(this);try{t(c(N,this,1),c(j,this,1))}catch(t){j.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(42)(S.prototype,{then:function(t,e){var n=k(y(this,S));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=C?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(N,t,1),this.reject=c(j,t,1)},_.f=k=function(t){return t===S||t===a?new o(t):i(t)}),h(h.G+h.W+h.F*!I,{Promise:S}),n(27)(S,"Promise"),n(64)("Promise"),a=n(18).Promise,h(h.S+h.F*!I,"Promise",{reject:function(t){var e=k(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!I),"Promise",{resolve:function(t){return A(s&&this===a?S:this,t)}}),h(h.S+h.F*!(I&&n(46)((function(t){S.all(t).catch(O)}))),"Promise",{all:function(t){var e=this,n=k(e),r=n.resolve,i=n.reject,o=b((function(){var n=[],o=0,a=1;v(t,!1,(function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then((function(t){u||(u=!0,n[s]=t,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=k(e),r=n.reject,i=b((function(){v(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";var r=n(20),i=n(2),o=n(16),a=n(10),s=n(25),u=n(106),c=n(27),f=n(78),h=n(3)("iterator"),l=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,v,y,m){u(n,e,d);var g,_,b,w=function(t){if(!l&&t in M)return M[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},A=e+" Iterator",E="values"==v,x=!1,M=t.prototype,P=M[h]||M["@@iterator"]||v&&M[v],S=P||w(v),C=v?E?w("entries"):S:void 0,O="Array"==e&&M.entries||P;if(O&&(b=f(O.call(new t)))!==Object.prototype&&b.next&&(c(b,A,!0),r||"function"==typeof b[h]||a(b,h,p)),E&&P&&"values"!==P.name&&(x=!0,S=function(){return P.call(this)}),r&&!m||!l&&!x&&M[h]||a(M,h,S),s[e]=S,s[A]=p,v)if(g={values:E?S:w("values"),keys:y?S:w("keys"),entries:C},m)for(_ in g)_ in M||o(M,_,g[_]);else i(i.P+i.F*(l||x),e,g);return g}},function(t,e,n){var r=n(25),i=n(3)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(52),i=n(3)("iterator"),o=n(25);t.exports=n(18).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";(function(t,r,i){n(85),n(86),n(38),n(39),n(95),n(92),n(40),n(35),n(103),n(21),n(99),n(55),n(56),n(96),n(75),n(97);var o=n(14);function a(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){u(t,e,n[e])}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=t.fromValues(0,0,1),h=function(){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.registry=t,this.rtid=n.rtid,this.children=n.children,this.components=n.components,this.visible=n.isVisible,this.external=n.isExternal,this.runtime=n.isRuntime,this.transient=n.isTransient,this.selected=!1,this.overrider=null,this.overriddenEntity=null,this.linker=null,this.attachedComponents=[],this.detachedComponents=[],this.dirtyComponents=[],this.unsavedComponents=[]}var n,u,h;return n=e,(u=[{key:"getID",value:function(){return this.rtid}},{key:"getEUID",value:function(){return this.components.euid.value}},{key:"isVisible",value:function(){return this.visible}},{key:"isExternal",value:function(){return this.external}},{key:"isRuntime",value:function(){return this.runtime}},{key:"isSelected",value:function(){return this.selected}},{key:"getName",value:function(){return(this.components.debug_name?this.components.debug_name.value:"")||"No name"}},{key:"getParent",value:function(){if(!this.hasParent())return null;var t=this.getComponent("lineage").ancestorRTID,e=this.registry.getEntity(t);return e||void 0}},{key:"getAncestors",value:function(){for(var t=this,e=[];t=t.getParent();)e.push(t);return e}},{key:"hasParent",value:function(){return this.isAttached("lineage")&&this.getComponent("lineage").hasOwnProperty("ancestorRTID")}},{key:"hasChildren",value:function(){return this.children.length>0||this.isLinker()}},{key:"getLinkerLineage",value:function(){for(var t=this.linker,e=[];t;)e.push(t.getEUID()),t=t.linker;return e}},{key:"resolveLinker",value:function(){this.linker=this.getLinker(),this.linker&&!this.components.lineage.ancestorRTID&&(this.components.lineage.ancestorRTID=this.linker.rtid)}},{key:"getLinker",value:function(){var t=this.getComponent("lineage");if(!t||0==t.value.length)return null;var e=t.value[0],n=this.registry.getEntitiesByEUID(e);if(0==n.length)return console.warn("Cannot find linker EUID ".concat(e)),null;if(1==n.length)return n[0];var r=t.value.slice(1);for(var i in n){var o=n[i],a=o.components.lineage.value;if(a.length==r.length){var s=!0;for(var u in a)if(a[u]!=r[u]){s=!1;break}if(s)return o}}console.warn("Cannot find appropriate linker for ".concat(this.getEUID()))}},{key:"isLinker",value:function(){return!!this.components.scene_ref}},{key:"isOverrider",value:function(){return!!this.components.overrider}},{key:"isOverridden",value:function(){return this.components.overridden&&this.overrider}},{key:"isMarkedAsDeleted",value:function(){return this.isOverridden()&&this.overrider.getComponent("overrider").deleter||this.getParent()&&this.getParent().isMarkedAsDeleted()}},{key:"isAttached",value:function(t){return this.components.hasOwnProperty(t)||this.isComponentOverridden(t)}},{key:"getComponent",value:function(t){return this.isComponentOverridden(t)?this.overrider.getComponent(t):this.isAttached(t)?s({},this.registry.getComponentDefaultValue(t),this.components[t]):(console.warn("Attempt to get the value of an unattached component (".concat(t,") on ").concat(this.getName()," (").concat(this.getID(),")")),null)}},{key:"UNSAFE_getComponent",value:function(t){return this.components[t]}},{key:"getComponents",value:function(){var t=this.isOverridden()?this.overrider.getComponents():{},e={};for(var n in this.components)e[n]=this.getComponent(n);for(var n in t)this.isComponentOverridable(n)&&(e[n]=t[n]);return e}},{key:"isComponentOverridden",value:function(t){return this.isComponentOverridable(t)&&this.overrider&&this.overrider.isAttached(t)}},{key:"isComponentOverridable",value:function(t){return!["lineage","euid","overrider"].includes(t)}},{key:"attachComponent",value:function(t,e){this.isAttached(t)?console.warn("Cannot attach component ".concat(t," that is already attached")):(this.UNSAFE_attachComponent(t,e),this.attachedComponents.push(t),this.registry.setDirtyEntity(this))}},{key:"detachComponent",value:function(t){this.isAttached(t)?(this.UNSAFE_detachComponent(t),this.unsavedComponents=this.unsavedComponents.filter((function(e){return e!=t})),this.detachedComponents.push(t),this.registry.setDirtyEntity(this)):console.warn("Cannot detach component ".concat(t," that is not attached"))}},{key:"setComponent",value:function(t,e){this.isAttached(t)?this.isComponentOverridden(t)?this.overrider.setComponent(t,e):(this.UNSAFE_setComponent(t,e),this.setDirty(t)):console.warn("Cannot update component ".concat(t," that is not attached"))}},{key:"UNSAFE_setComponent",value:function(t,e){this.components[t]=s({},this.components[t],e)}},{key:"UNSAFE_attachComponent",value:function(t,e){this.components[t]=e}},{key:"UNSAFE_detachComponent",value:function(t){delete this.components[t]}},{key:"setDirty",value:function(t){this.transient||(this.UNSAFE_setDirty(t),this.unsavedComponents.includes(t)||this.unsavedComponents.push(t),this.registry.setDirtyEntity(this))}},{key:"UNSAFE_setDirty",value:function(t){this.dirtyComponents.includes(t)||this.dirtyComponents.push(t)}},{key:"isSame",value:function(t){return t&&this.getID()==t.getID()}},{key:"getLocalMatrix",value:function(){var e=r.create(),n=this.getComponent("local_transform");return r.fromRotationTranslationScale(e,i.fromValues(n.orientation[0],n.orientation[1],n.orientation[2],n.orientation[3]),t.fromValues(n.position[0],n.position[1],n.position[2]),t.fromValues(n.scale[0],n.scale[1],n.scale[2])),e}},{key:"getParentGlobalMatrix",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.getParent();return e?e.getGlobalMatrix(t):r.create()}},{key:"getGlobalMatrix",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.getLocalMatrix();if(t&&t.isSame(this.getParent()))return e;var n=r.create(),i=this.getParentGlobalMatrix(t);return r.mul(n,i,e),n}},{key:"getParentGlobalTransform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.getParent();return e?e.getGlobalTransform(t):o.a.getIdentityTransform()}},{key:"getGlobalTransform",value:function(){var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=this.getComponent("local_transform");if(r&&r.isSame(this.getParent()))return o;var s=this.getParentGlobalTransform(r),u=this.getParentGlobalMatrix(r),c=t.fromValues(o.position[0],o.position[1],o.position[2]),f=i.fromValues(o.orientation[0],o.orientation[1],o.orientation[2],o.orientation[3]),h=t.fromValues(o.scale[0],o.scale[1],o.scale[2]),l=t.create(),p=i.create(),d=t.create();return t.transformMat4(l,c,u),i.mul(p,(e=i).fromValues.apply(e,a(s.orientation)),f),t.mul(d,(n=t).fromValues.apply(n,a(s.scale)),h),{position:Array.from(l),orientation:Array.from(p),scale:Array.from(d)}}},{key:"setGlobalTransform",value:function(t){t.position&&this.setPosition(t.position),t.orientation&&this.setOrientation(t.orientation),t.scale&&this.setScale(t.scale)}},{key:"computeGlobalTransformFromEntity",value:function(e,n){var s,u,c=n?n.getGlobalTransform():o.a.getIdentityTransform(),f=n?n.getGlobalMatrix():r.create();e.position&&this.setPosition(e.position,f),e.orientation&&this.setOrientation(e.orientation,(s=i).fromValues.apply(s,a(c.orientation))),e.scale&&this.setScale(e.scale,(u=t).fromValues.apply(u,a(c.scale)))}},{key:"setPosition",value:function(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=t.create(),s=r.create(),u=i||this.getParentGlobalMatrix();r.invert(s,u),t.transformMat4(o,(n=t).fromValues.apply(n,a(e)),s),this.setComponent("local_transform",{position:Array.from(o)})}},{key:"setOrientation",value:function(t,e){var n,r,o=i.create(),s=i.create(),u=e||(n=i).fromValues.apply(n,a(this.getParentGlobalTransform().orientation));i.conjugate(s,u),i.mul(o,s,(r=i).fromValues.apply(r,a(t))),this.setComponent("local_transform",{orientation:Array.from(o)})}},{key:"setScale",value:function(e,n){var r,i,o=t.create(),s=n||(r=t).fromValues.apply(r,a(this.getParentGlobalTransform().scale));t.div(o,(i=t).fromValues.apply(i,a(e)),s),this.setComponent("local_transform",{scale:Array.from(o)})}},{key:"lookAt",value:function(e){var n,r=(n=t).fromValues.apply(n,a(e)),o=this.getGlobalTransform().position,s=t.create();t.sub(s,r,o),t.normalize(s,s);var u=i.create();i.rotationTo(u,f,s),this.setOrientation(u)}},{key:"focusOn",value:function(e){if(this.isAttached("local_transform")){var n=e.getTransform(),o=this.getGlobalTransform().position,a=t.create();t.sub(a,o,n.position),t.normalize(a,a);var s=t.distance(n.position,o),u=t.create();t.scaleAndAdd(u,n.position,a,.9*s);var c=t.create();t.cross(c,a,t.fromValues(0,1,0));var f=t.create();t.cross(f,c,a);var h=r.create();r.targetTo(h,u,o,f);var l=i.create();r.getRotation(l,h);var p=.5*s;SDK3DVerse.engineAPI.cameraAPI.travel(e,u,l,p)}}}])&&c(n.prototype,u),h&&c(n,h),e}();e.a=h}).call(this,n(12),n(94),n(91))},function(t,e){!function(e){"use strict";var n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",u="object"==typeof t,c=e.regeneratorRuntime;if(c)u&&(t.exports=c);else{(c=e.regeneratorRuntime=u?t.exports:{}).wrap=v;var f={},h={};h[o]=function(){return this};var l=Object.getPrototypeOf,p=l&&l(l(P([])));p&&p!==n&&r.call(p,o)&&(h=p);var d=_.prototype=m.prototype=Object.create(h);g.prototype=d.constructor=_,_.constructor=g,_[s]=g.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(d),t},c.awrap=function(t){return{__await:t}},b(w.prototype),w.prototype[a]=function(){return this},c.AsyncIterator=w,c.async=function(t,e,n,r){var i=new w(v(t,e,n,r));return c.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(d),d[s]="Generator",d[o]=function(){return this},d.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=P,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}}}function v(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,o=Object.create(i.prototype),a=new M(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return S()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=y(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function y(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function m(){}function g(){}function _(){}function b(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function w(t){var e;this._invoke=function(n,i){function o(){return new Promise((function(e,o){!function e(n,i,o,a){var s=y(t[n],t,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,o,a)}),(function(t){e("throw",t,o,a)})):Promise.resolve(c).then((function(t){u.value=t,o(u)}),(function(t){return e("throw",t,o,a)}))}a(s.arg)}(n,i,e,o)}))}return e=e?e.then(o,o):o()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=y(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function P(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e,n){var r=n(13),i=n(77),o=n(59),a=n(8),s=n(17),u=n(60),c={},f={};(e=t.exports=function(t,e,n,h,l){var p,d,v,y,m=l?function(){return t}:u(t),g=r(n,h,e?2:1),_=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(p=s(t.length);p>_;_++)if((y=e?g(a(d=t[_])[0],d[1]):g(t[_]))===c||y===f)return y}else for(v=m.call(t);!(d=v.next()).done;)if((y=i(v,g,d.value,e))===c||y===f)return y}).BREAK=c,e.RETURN=f},function(t,e,n){"use strict";var r=n(4),i=n(6),o=n(7),a=n(3)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(19)("meta"),i=n(5),o=n(15),a=n(6).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(9)((function(){return u(Object.preventExtensions({}))})),f=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";f(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;f(t)}return t[r].w},onFreeze:function(t){return c&&h.NEED&&u(t)&&!o(t,r)&&f(t),t}}},function(t,e,n){var r=n(24);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){t.exports=!n(7)&&!n(9)((function(){return 7!=Object.defineProperty(n(48)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(15),i=n(23),o=n(45)(!1),a=n(49)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(4).document;t.exports=r&&r.documentElement},function(t,e,n){var r,i,o,a=n(13),s=n(101),u=n(70),c=n(48),f=n(4),h=f.process,l=f.setImmediate,p=f.clearImmediate,d=f.MessageChannel,v=f.Dispatch,y=0,m={},g=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},_=function(t){g.call(t.data)};l&&p||(l=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++y]=function(){s("function"==typeof t?t:Function(t),e)},r(y),y},p=function(t){delete m[t]},"process"==n(24)(h)?r=function(t){h.nextTick(a(g,t,1))}:v&&v.now?r=function(t){v.now(a(g,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",_,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),g.call(t)}}:function(t){setTimeout(a(g,t,1),0)}),t.exports={set:l,clear:p}},function(t,e,n){"use strict";var r=n(32);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},function(t,e,n){var r=n(4),i=n(18),o=n(20),a=n(74),s=n(6).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){e.f=n(3)},function(t,e,n){"use strict";var r=n(2),i=n(31)(2);r(r.P+r.F*!n(36)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},,function(t,e,n){var r=n(8);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(15),i=n(22),o=n(49)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(8),i=n(32),o=n(3)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r=n(2);r(r.S,"Object",{create:n(33)})},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(21);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sdk=e,this.name=n}var e,n,i;return e=t,(n=[{key:"onInit",value:function(){}}])&&r(e.prototype,n),i&&r(e,i),t}()},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(5),i=n(8),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(13)(Function.call,n(54).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){var r=n(2);r(r.S,"Object",{setPrototypeOf:n(83).set})},function(t,e,n){"use strict";n(131);var r=n(8),i=n(93),o=n(7),a=/./.toString,s=function(t){n(16)(RegExp.prototype,"toString",t,!0)};n(9)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},function(t,e,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(16)(r,"toString",(function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"}))},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(137),i=n(138),o=n(139);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=l(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):l(t,e);if("Buffer"===e.type&&o(e.data))return l(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(f(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function l(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return P(this,e,n);case"ascii":return S(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return M(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:g(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var f=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var h=!0,l=0;l<u;l++)if(c(t,o+l)!==c(e,l)){h=!1;break}if(h)return o}return-1}function _(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,r){return V(F(e,t.length-n),t,n,r)}function w(t,e,n,r){return V(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function A(t,e,n,r){return w(t,e,n,r)}function E(t,e,n,r){return V(Y(e),t,n,r)}function x(t,e,n,r){return V(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function M(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function P(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,c=t[i],f=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(f=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,h=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return f(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):v.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),c=this.slice(r,i),f=t.slice(e,n),h=0;h<s;++h)if(c[h]!==f[h]){o=c[h],a=f[h];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return A(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function O(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=B(t[o]);return i}function k(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function T(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function U(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(t,e,n,r,o){return o||U(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function j(t,e,n,r,o){return o||U(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||T(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||T(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);T(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);T(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return D(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return D(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:F(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function V(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(136))},function(t,e,n){for(var r,i=n(4),o=n(10),a=n(19),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),f=c,h=0,l="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(r=i[l[h++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):f=!1;t.exports={ABV:c,CONSTR:f,TYPED:s,VIEW:u}},function(t,e,n){t.exports={h32:n(141),h64:n(144)}},function(t,e,n){"use strict";var r=n(2),i=n(45)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(36)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";n.r(e),n.d(e,"create",(function(){return s})),n.d(e,"identity",(function(){return u})),n.d(e,"setAxisAngle",(function(){return c})),n.d(e,"getAxisAngle",(function(){return f})),n.d(e,"multiply",(function(){return h})),n.d(e,"rotateX",(function(){return l})),n.d(e,"rotateY",(function(){return p})),n.d(e,"rotateZ",(function(){return d})),n.d(e,"calculateW",(function(){return v})),n.d(e,"slerp",(function(){return y})),n.d(e,"random",(function(){return m})),n.d(e,"invert",(function(){return g})),n.d(e,"conjugate",(function(){return _})),n.d(e,"fromMat3",(function(){return b})),n.d(e,"fromEuler",(function(){return w})),n.d(e,"str",(function(){return A})),n.d(e,"clone",(function(){return O})),n.d(e,"fromValues",(function(){return k})),n.d(e,"copy",(function(){return I})),n.d(e,"set",(function(){return T})),n.d(e,"add",(function(){return L})),n.d(e,"mul",(function(){return R})),n.d(e,"scale",(function(){return U})),n.d(e,"dot",(function(){return D})),n.d(e,"lerp",(function(){return j})),n.d(e,"length",(function(){return N})),n.d(e,"len",(function(){return B})),n.d(e,"squaredLength",(function(){return F})),n.d(e,"sqrLen",(function(){return Y})),n.d(e,"normalize",(function(){return V})),n.d(e,"exactEquals",(function(){return z})),n.d(e,"equals",(function(){return q})),n.d(e,"rotationTo",(function(){return G})),n.d(e,"sqlerp",(function(){return W})),n.d(e,"setAxes",(function(){return X}));var r=n(0),i=n(98),o=n(12),a=n(11);function s(){var t=new r.ARRAY_TYPE(4);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function u(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function c(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function f(t,e){var n=2*Math.acos(e[3]),i=Math.sin(n/2);return i>r.EPSILON?(t[0]=e[0]/i,t[1]=e[1]/i,t[2]=e[2]/i):(t[0]=1,t[1]=0,t[2]=0),n}function h(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],c=n[2],f=n[3];return t[0]=r*f+a*s+i*c-o*u,t[1]=i*f+a*u+o*s-r*c,t[2]=o*f+a*c+r*u-i*s,t[3]=a*f-r*s-i*u-o*c,t}function l(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-r*s,t}function p(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-o*s,t[1]=i*u+a*s,t[2]=o*u+r*s,t[3]=a*u-i*s,t}function d(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t}function v(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function y(t,e,n,i){var o,a,s,u,c,f=e[0],h=e[1],l=e[2],p=e[3],d=n[0],v=n[1],y=n[2],m=n[3];return(a=f*d+h*v+l*y+p*m)<0&&(a=-a,d=-d,v=-v,y=-y,m=-m),1-a>r.EPSILON?(o=Math.acos(a),s=Math.sin(o),u=Math.sin((1-i)*o)/s,c=Math.sin(i*o)/s):(u=1-i,c=i),t[0]=u*f+c*d,t[1]=u*h+c*v,t[2]=u*l+c*y,t[3]=u*p+c*m,t}function m(t){var e=r.RANDOM(),n=r.RANDOM(),i=r.RANDOM(),o=Math.sqrt(1-e),a=Math.sqrt(e);return t[0]=o*Math.sin(2*Math.PI*n),t[1]=o*Math.cos(2*Math.PI*n),t[2]=a*Math.sin(2*Math.PI*i),t[3]=a*Math.cos(2*Math.PI*i),t}function g(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}function _(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function b(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t}function w(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),u=Math.cos(n),c=Math.sin(r),f=Math.cos(r);return t[0]=o*u*f-a*s*c,t[1]=a*s*f+o*u*c,t[2]=a*u*c-o*s*f,t[3]=a*u*f+o*s*c,t}function A(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var E,x,M,P,S,C,O=a.b,k=a.g,I=a.c,T=a.l,L=a.a,R=h,U=a.k,D=a.d,j=a.i,N=a.h,B=N,F=a.m,Y=F,V=a.j,z=a.f,q=a.e,G=(E=o.create(),x=o.fromValues(1,0,0),M=o.fromValues(0,1,0),function(t,e,n){var r=o.dot(e,n);return r<-.999999?(o.cross(E,x,e),o.len(E)<1e-6&&o.cross(E,M,e),o.normalize(E,E),c(t,E,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(o.cross(E,e,n),t[0]=E[0],t[1]=E[1],t[2]=E[2],t[3]=1+r,V(t,t))}),W=(P=s(),S=s(),function(t,e,n,r,i,o){return y(P,e,i,o),y(S,n,r,o),y(t,P,S,2*o*(1-o)),t}),X=(C=i.a(),function(t,e,n,r){return C[0]=n[0],C[3]=n[1],C[6]=n[2],C[1]=r[0],C[4]=r[1],C[7]=r[2],C[2]=-e[0],C[5]=-e[1],C[8]=-e[2],V(t,b(t,C))})},function(t,e,n){"use strict";var r=n(2),i=n(31)(0),o=n(36)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(8);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";n.r(e),n.d(e,"create",(function(){return i})),n.d(e,"clone",(function(){return o})),n.d(e,"copy",(function(){return a})),n.d(e,"fromValues",(function(){return s})),n.d(e,"set",(function(){return u})),n.d(e,"identity",(function(){return c})),n.d(e,"transpose",(function(){return f})),n.d(e,"invert",(function(){return h})),n.d(e,"adjoint",(function(){return l})),n.d(e,"determinant",(function(){return p})),n.d(e,"multiply",(function(){return d})),n.d(e,"translate",(function(){return v})),n.d(e,"scale",(function(){return y})),n.d(e,"rotate",(function(){return m})),n.d(e,"rotateX",(function(){return g})),n.d(e,"rotateY",(function(){return _})),n.d(e,"rotateZ",(function(){return b})),n.d(e,"fromTranslation",(function(){return w})),n.d(e,"fromScaling",(function(){return A})),n.d(e,"fromRotation",(function(){return E})),n.d(e,"fromXRotation",(function(){return x})),n.d(e,"fromYRotation",(function(){return M})),n.d(e,"fromZRotation",(function(){return P})),n.d(e,"fromRotationTranslation",(function(){return S})),n.d(e,"fromQuat2",(function(){return C})),n.d(e,"getTranslation",(function(){return O})),n.d(e,"getScaling",(function(){return k})),n.d(e,"getRotation",(function(){return I})),n.d(e,"fromRotationTranslationScale",(function(){return T})),n.d(e,"fromRotationTranslationScaleOrigin",(function(){return L})),n.d(e,"fromQuat",(function(){return R})),n.d(e,"frustum",(function(){return U})),n.d(e,"perspective",(function(){return D})),n.d(e,"perspectiveFromFieldOfView",(function(){return j})),n.d(e,"ortho",(function(){return N})),n.d(e,"lookAt",(function(){return B})),n.d(e,"targetTo",(function(){return F})),n.d(e,"str",(function(){return Y})),n.d(e,"frob",(function(){return V})),n.d(e,"add",(function(){return z})),n.d(e,"subtract",(function(){return q})),n.d(e,"multiplyScalar",(function(){return G})),n.d(e,"multiplyScalarAndAdd",(function(){return W})),n.d(e,"exactEquals",(function(){return X})),n.d(e,"equals",(function(){return H})),n.d(e,"mul",(function(){return K})),n.d(e,"sub",(function(){return Z}));var r=n(0);function i(){var t=new r.ARRAY_TYPE(16);return r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function o(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function s(t,e,n,i,o,a,s,u,c,f,h,l,p,d,v,y){var m=new r.ARRAY_TYPE(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=i,m[4]=o,m[5]=a,m[6]=s,m[7]=u,m[8]=c,m[9]=f,m[10]=h,m[11]=l,m[12]=p,m[13]=d,m[14]=v,m[15]=y,m}function u(t,e,n,r,i,o,a,s,u,c,f,h,l,p,d,v,y){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t[9]=f,t[10]=h,t[11]=l,t[12]=p,t[13]=d,t[14]=v,t[15]=y,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function f(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function h(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],h=e[9],l=e[10],p=e[11],d=e[12],v=e[13],y=e[14],m=e[15],g=n*s-r*a,_=n*u-i*a,b=n*c-o*a,w=r*u-i*s,A=r*c-o*s,E=i*c-o*u,x=f*v-h*d,M=f*y-l*d,P=f*m-p*d,S=h*y-l*v,C=h*m-p*v,O=l*m-p*y,k=g*O-_*C+b*S+w*P-A*M+E*x;return k?(k=1/k,t[0]=(s*O-u*C+c*S)*k,t[1]=(i*C-r*O-o*S)*k,t[2]=(v*E-y*A+m*w)*k,t[3]=(l*A-h*E-p*w)*k,t[4]=(u*P-a*O-c*M)*k,t[5]=(n*O-i*P+o*M)*k,t[6]=(y*b-d*E-m*_)*k,t[7]=(f*E-l*b+p*_)*k,t[8]=(a*C-s*P+c*x)*k,t[9]=(r*P-n*C-o*x)*k,t[10]=(d*A-v*b+m*g)*k,t[11]=(h*b-f*A-p*g)*k,t[12]=(s*M-a*S-u*x)*k,t[13]=(n*S-r*M+i*x)*k,t[14]=(v*_-d*w-y*g)*k,t[15]=(f*w-h*_+l*g)*k,t):null}function l(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],h=e[9],l=e[10],p=e[11],d=e[12],v=e[13],y=e[14],m=e[15];return t[0]=s*(l*m-p*y)-h*(u*m-c*y)+v*(u*p-c*l),t[1]=-(r*(l*m-p*y)-h*(i*m-o*y)+v*(i*p-o*l)),t[2]=r*(u*m-c*y)-s*(i*m-o*y)+v*(i*c-o*u),t[3]=-(r*(u*p-c*l)-s*(i*p-o*l)+h*(i*c-o*u)),t[4]=-(a*(l*m-p*y)-f*(u*m-c*y)+d*(u*p-c*l)),t[5]=n*(l*m-p*y)-f*(i*m-o*y)+d*(i*p-o*l),t[6]=-(n*(u*m-c*y)-a*(i*m-o*y)+d*(i*c-o*u)),t[7]=n*(u*p-c*l)-a*(i*p-o*l)+f*(i*c-o*u),t[8]=a*(h*m-p*v)-f*(s*m-c*v)+d*(s*p-c*h),t[9]=-(n*(h*m-p*v)-f*(r*m-o*v)+d*(r*p-o*h)),t[10]=n*(s*m-c*v)-a*(r*m-o*v)+d*(r*c-o*s),t[11]=-(n*(s*p-c*h)-a*(r*p-o*h)+f*(r*c-o*s)),t[12]=-(a*(h*y-l*v)-f*(s*y-u*v)+d*(s*l-u*h)),t[13]=n*(h*y-l*v)-f*(r*y-i*v)+d*(r*l-i*h),t[14]=-(n*(s*y-u*v)-a*(r*y-i*v)+d*(r*u-i*s)),t[15]=n*(s*l-u*h)-a*(r*l-i*h)+f*(r*u-i*s),t}function p(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],f=t[9],h=t[10],l=t[11],p=t[12],d=t[13],v=t[14],y=t[15];return(e*a-n*o)*(h*y-l*v)-(e*s-r*o)*(f*y-l*d)+(e*u-i*o)*(f*v-h*d)+(n*s-r*a)*(c*y-l*p)-(n*u-i*a)*(c*v-h*p)+(r*u-i*s)*(c*d-f*p)}function d(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],h=e[8],l=e[9],p=e[10],d=e[11],v=e[12],y=e[13],m=e[14],g=e[15],_=n[0],b=n[1],w=n[2],A=n[3];return t[0]=_*r+b*s+w*h+A*v,t[1]=_*i+b*u+w*l+A*y,t[2]=_*o+b*c+w*p+A*m,t[3]=_*a+b*f+w*d+A*g,_=n[4],b=n[5],w=n[6],A=n[7],t[4]=_*r+b*s+w*h+A*v,t[5]=_*i+b*u+w*l+A*y,t[6]=_*o+b*c+w*p+A*m,t[7]=_*a+b*f+w*d+A*g,_=n[8],b=n[9],w=n[10],A=n[11],t[8]=_*r+b*s+w*h+A*v,t[9]=_*i+b*u+w*l+A*y,t[10]=_*o+b*c+w*p+A*m,t[11]=_*a+b*f+w*d+A*g,_=n[12],b=n[13],w=n[14],A=n[15],t[12]=_*r+b*s+w*h+A*v,t[13]=_*i+b*u+w*l+A*y,t[14]=_*o+b*c+w*p+A*m,t[15]=_*a+b*f+w*d+A*g,t}function v(t,e,n){var r,i,o,a,s,u,c,f,h,l,p,d,v=n[0],y=n[1],m=n[2];return e===t?(t[12]=e[0]*v+e[4]*y+e[8]*m+e[12],t[13]=e[1]*v+e[5]*y+e[9]*m+e[13],t[14]=e[2]*v+e[6]*y+e[10]*m+e[14],t[15]=e[3]*v+e[7]*y+e[11]*m+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],h=e[8],l=e[9],p=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=f,t[8]=h,t[9]=l,t[10]=p,t[11]=d,t[12]=r*v+s*y+h*m+e[12],t[13]=i*v+u*y+l*m+e[13],t[14]=o*v+c*y+p*m+e[14],t[15]=a*v+f*y+d*m+e[15]),t}function y(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function m(t,e,n,i){var o,a,s,u,c,f,h,l,p,d,v,y,m,g,_,b,w,A,E,x,M,P,S,C,O=i[0],k=i[1],I=i[2],T=Math.sqrt(O*O+k*k+I*I);return T<r.EPSILON?null:(O*=T=1/T,k*=T,I*=T,o=Math.sin(n),s=1-(a=Math.cos(n)),u=e[0],c=e[1],f=e[2],h=e[3],l=e[4],p=e[5],d=e[6],v=e[7],y=e[8],m=e[9],g=e[10],_=e[11],b=O*O*s+a,w=k*O*s+I*o,A=I*O*s-k*o,E=O*k*s-I*o,x=k*k*s+a,M=I*k*s+O*o,P=O*I*s+k*o,S=k*I*s-O*o,C=I*I*s+a,t[0]=u*b+l*w+y*A,t[1]=c*b+p*w+m*A,t[2]=f*b+d*w+g*A,t[3]=h*b+v*w+_*A,t[4]=u*E+l*x+y*M,t[5]=c*E+p*x+m*M,t[6]=f*E+d*x+g*M,t[7]=h*E+v*x+_*M,t[8]=u*P+l*S+y*C,t[9]=c*P+p*S+m*C,t[10]=f*P+d*S+g*C,t[11]=h*P+v*S+_*C,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function g(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],f=e[9],h=e[10],l=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+f*r,t[6]=s*i+h*r,t[7]=u*i+l*r,t[8]=c*i-o*r,t[9]=f*i-a*r,t[10]=h*i-s*r,t[11]=l*i-u*r,t}function _(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],c=e[8],f=e[9],h=e[10],l=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=a*i-f*r,t[2]=s*i-h*r,t[3]=u*i-l*r,t[8]=o*r+c*i,t[9]=a*r+f*i,t[10]=s*r+h*i,t[11]=u*r+l*i,t}function b(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],c=e[4],f=e[5],h=e[6],l=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=a*i+f*r,t[2]=s*i+h*r,t[3]=u*i+l*r,t[4]=c*i-o*r,t[5]=f*i-a*r,t[6]=h*i-s*r,t[7]=l*i-u*r,t}function w(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function A(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function E(t,e,n){var i,o,a,s=n[0],u=n[1],c=n[2],f=Math.sqrt(s*s+u*u+c*c);return f<r.EPSILON?null:(s*=f=1/f,u*=f,c*=f,i=Math.sin(e),a=1-(o=Math.cos(e)),t[0]=s*s*a+o,t[1]=u*s*a+c*i,t[2]=c*s*a-u*i,t[3]=0,t[4]=s*u*a-c*i,t[5]=u*u*a+o,t[6]=c*u*a+s*i,t[7]=0,t[8]=s*c*a+u*i,t[9]=u*c*a-s*i,t[10]=c*c*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function x(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function M(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function P(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,u=i+i,c=o+o,f=r*s,h=r*u,l=r*c,p=i*u,d=i*c,v=o*c,y=a*s,m=a*u,g=a*c;return t[0]=1-(p+v),t[1]=h+g,t[2]=l-m,t[3]=0,t[4]=h-g,t[5]=1-(f+v),t[6]=d+y,t[7]=0,t[8]=l+m,t[9]=d-y,t[10]=1-(f+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function C(t,e){var n=new r.ARRAY_TYPE(3),i=-e[0],o=-e[1],a=-e[2],s=e[3],u=e[4],c=e[5],f=e[6],h=e[7],l=i*i+o*o+a*a+s*s;return l>0?(n[0]=2*(u*s+h*i+c*a-f*o)/l,n[1]=2*(c*s+h*o+f*i-u*a)/l,n[2]=2*(f*s+h*a+u*o-c*i)/l):(n[0]=2*(u*s+h*i+c*a-f*o),n[1]=2*(c*s+h*o+f*i-u*a),n[2]=2*(f*s+h*a+u*o-c*i)),S(t,e,n),t}function O(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function k(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],u=e[8],c=e[9],f=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(o*o+a*a+s*s),t[2]=Math.sqrt(u*u+c*c+f*f),t}function I(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function T(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,c=o+o,f=a+a,h=i*u,l=i*c,p=i*f,d=o*c,v=o*f,y=a*f,m=s*u,g=s*c,_=s*f,b=r[0],w=r[1],A=r[2];return t[0]=(1-(d+y))*b,t[1]=(l+_)*b,t[2]=(p-g)*b,t[3]=0,t[4]=(l-_)*w,t[5]=(1-(h+y))*w,t[6]=(v+m)*w,t[7]=0,t[8]=(p+g)*A,t[9]=(v-m)*A,t[10]=(1-(h+d))*A,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function L(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],u=e[3],c=o+o,f=a+a,h=s+s,l=o*c,p=o*f,d=o*h,v=a*f,y=a*h,m=s*h,g=u*c,_=u*f,b=u*h,w=r[0],A=r[1],E=r[2],x=i[0],M=i[1],P=i[2],S=(1-(v+m))*w,C=(p+b)*w,O=(d-_)*w,k=(p-b)*A,I=(1-(l+m))*A,T=(y+g)*A,L=(d+_)*E,R=(y-g)*E,U=(1-(l+v))*E;return t[0]=S,t[1]=C,t[2]=O,t[3]=0,t[4]=k,t[5]=I,t[6]=T,t[7]=0,t[8]=L,t[9]=R,t[10]=U,t[11]=0,t[12]=n[0]+x-(S*x+k*M+L*P),t[13]=n[1]+M-(C*x+I*M+R*P),t[14]=n[2]+P-(O*x+T*M+U*P),t[15]=1,t}function R(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,f=r*a,h=r*s,l=i*a,p=i*s,d=i*u,v=o*a,y=o*s,m=o*u;return t[0]=1-h-d,t[1]=f+m,t[2]=l-y,t[3]=0,t[4]=f-m,t[5]=1-c-d,t[6]=p+v,t[7]=0,t[8]=l+y,t[9]=p-v,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function U(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),c=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t}function D(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}function j(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(i-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function N(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*c,t[15]=1,t}function B(t,e,n,i){var o,a,s,u,f,h,l,p,d,v,y=e[0],m=e[1],g=e[2],_=i[0],b=i[1],w=i[2],A=n[0],E=n[1],x=n[2];return Math.abs(y-A)<r.EPSILON&&Math.abs(m-E)<r.EPSILON&&Math.abs(g-x)<r.EPSILON?c(t):(l=y-A,p=m-E,d=g-x,o=b*(d*=v=1/Math.sqrt(l*l+p*p+d*d))-w*(p*=v),a=w*(l*=v)-_*d,s=_*p-b*l,(v=Math.sqrt(o*o+a*a+s*s))?(o*=v=1/v,a*=v,s*=v):(o=0,a=0,s=0),u=p*s-d*a,f=d*o-l*s,h=l*a-p*o,(v=Math.sqrt(u*u+f*f+h*h))?(u*=v=1/v,f*=v,h*=v):(u=0,f=0,h=0),t[0]=o,t[1]=u,t[2]=l,t[3]=0,t[4]=a,t[5]=f,t[6]=p,t[7]=0,t[8]=s,t[9]=h,t[10]=d,t[11]=0,t[12]=-(o*y+a*m+s*g),t[13]=-(u*y+f*m+h*g),t[14]=-(l*y+p*m+d*g),t[15]=1,t)}function F(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],u=r[1],c=r[2],f=i-n[0],h=o-n[1],l=a-n[2],p=f*f+h*h+l*l;p>0&&(f*=p=1/Math.sqrt(p),h*=p,l*=p);var d=u*l-c*h,v=c*f-s*l,y=s*h-u*f;return(p=d*d+v*v+y*y)>0&&(d*=p=1/Math.sqrt(p),v*=p,y*=p),t[0]=d,t[1]=v,t[2]=y,t[3]=0,t[4]=h*y-l*v,t[5]=l*d-f*y,t[6]=f*v-h*d,t[7]=0,t[8]=f,t[9]=h,t[10]=l,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function Y(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function V(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function z(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function q(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function G(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function W(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function X(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function H(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],h=t[8],l=t[9],p=t[10],d=t[11],v=t[12],y=t[13],m=t[14],g=t[15],_=e[0],b=e[1],w=e[2],A=e[3],E=e[4],x=e[5],M=e[6],P=e[7],S=e[8],C=e[9],O=e[10],k=e[11],I=e[12],T=e[13],L=e[14],R=e[15];return Math.abs(n-_)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(i-b)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-w)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-A)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(s-E)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-x)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(c-M)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(f-P)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(h-S)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(l-C)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(p-O)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(d-k)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(v-I)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(I))&&Math.abs(y-T)<=r.EPSILON*Math.max(1,Math.abs(y),Math.abs(T))&&Math.abs(m-L)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(g-R)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(R))}var K=d,Z=q},function(t,e,n){var r=n(2);r(r.S,"Array",{isArray:n(53)})},function(t,e,n){"use strict";var r=n(2),i=n(129);r(r.P+r.F*n(130)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(2),i=n(45)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(44)("includes")},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0);function i(){var t=new r.ARRAY_TYPE(9);return r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}},function(t,e,n){"use strict";n(128)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,e,n){var r=n(6),i=n(8),o=n(30);t.exports=n(7)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(4).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(22),i=n(30);n(132)("keys",(function(){return function(t){return i(r(t))}}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(57),n(21),n(97),n(96),n(124),n(90),n(116),n(75),n(56),n(62),n(40),n(35),n(55),n(145);var r=n(61),i=n(14);function o(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function s(t){o(a,r,i,s,u,"next",t)}function u(t){o(a,r,i,s,u,"throw",t)}s(void 0)}))}}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.entities=new Map,this.euidMap=new Map,this.dirtyEntities={},this.unsavedEntities={},this.componentDefaultValues={},this.rootLinkerEntity=null,this.resolveEntity=e}var e,n,o,u,c;return e=t,(n=[{key:"addEntity",value:(c=a(regeneratorRuntime.mark((function t(e){var n,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=this.getEntity(e.rtid))){t.next=5;break}console.warn("Attempt to add an existing entity in the registry"),t.next=18;break;case 5:if((n=new r.a(this,e)).resolveLinker(),this.entities.set(n.getID(),n),this.euidMap.has(n.getEUID())||this.euidMap.set(n.getEUID(),[]),this.euidMap.get(n.getEUID()).push(n),!n.components.hasOwnProperty("overridden")){t.next=18;break}if(i=n.components.overridden.overriderEntityRTID,o=this.getEntity(i)){t.next=17;break}return t.next=16,this.resolveEntity(i);case 16:o=t.sent;case 17:o?(n.overrider=o,o.overriddenEntity=n):console.warn("Cannot find the overrider entity ".concat(JSON.stringify(n.components.overridden)));case 18:return t.abrupt("return",n);case 19:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"deleteEntity",value:function(t){var e=(this.entities.size>0?Array.from(this.entities.values()):[]).filter((function(e){return t.isSame(e.getParent())}));e.length>0&&this.deleteEntities(e);var n=t.getID(),r=this.euidMap.get(t.getEUID());if(r){var i=r.findIndex((function(t){return t.getID()==n}));-1!=i&&r.splice(i,1)}this.entities.delete(n),delete this.dirtyEntities[n],delete this.unsavedEntities[n]}},{key:"deleteEntities",value:function(t){for(var e in t)this.deleteEntity(t[e])}},{key:"getEntity",value:function(t){return this.entities.get(t)||null}},{key:"getOrAddEntity",value:(u=a(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.getEntity(e)){t.next=5;break}return t.next=4,this.addEntity(n);case 4:r=t.sent;case 5:return t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return u.apply(this,arguments)})},{key:"getEntitiesByEUID",value:function(t){return this.euidMap.get(t)||[]}},{key:"getRootEntities",value:function(){return(this.entities.size>0?Array.from(this.entities.values()):[]).filter((function(t){return!t.hasParent()}))}},{key:"getLinkers",value:function(){return(this.entities.size>0?Array.from(this.entities.values()):[]).filter((function(t){return t.isLinker()}))}},{key:"hasEntity",value:function(t){return this.entities.has(t)}},{key:"setDirtyEntity",value:function(t){this.UNSAFE_setDirtyEntity(t),this.unsavedEntities[t.getID()]=t}},{key:"UNSAFE_setDirtyEntity",value:function(t){this.dirtyEntities[t.getID()]=t}},{key:"setComponentDescriptions",value:function(t){this.componentDescriptions=t}},{key:"getComponentDefaultValue",value:function(t){return this.componentDefaultValues.hasOwnProperty(t)||this.addComponentDefaultValueToCache(t),i.a.clone(this.componentDefaultValues[t])}},{key:"addComponentDefaultValueToCache",value:function(t){var e=this.componentDescriptions[t];if(e){var n={};for(var r in e.attributes){var i=e.attributes[r];i.mods&&i.mods.indexOf("engine-only")>-1||(i.default?n[i.name]=i.default:"string"==i.type?n[i.name]="":"json"==i.type?n[i.name]={}:"uuid"==i.type||i.type.includes("_ref")?n[i.name]="00000000-0000-0000-0000-000000000000":"bool"==i.type?n[i.name]=!1:i.type.includes("array")?n[i.name]=[]:"float"==i.type||i.type.includes("int")?n[i.name]=0:i.type.includes("map<")?n[i.name]={}:console.warn("Unrecognized attribute type : ".concat(i.type)))}this.componentDefaultValues[t]=n}else console.warn("Unrecognized component : ".concat(t))}}])&&s(e.prototype,n),o&&s(e,o),t}()},function(t,e,n){t.exports=n(34)("native-function-to-string",Function.toString)},function(t,e,n){"use strict";var r=n(33),i=n(26),o=n(27),a={};n(10)(a,n(3)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(4),i=n(71).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(24)(a);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var f=s.resolve(void 0);n=function(){f.then(c)}}else n=function(){i.call(r,c)};else{var h=!0,l=document.createTextNode("");new o(c).observe(l,{characterData:!0}),n=function(){l.data=h=!h}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(8),i=n(5),o=n(72);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";if(n(7)){var r=n(20),i=n(4),o=n(9),a=n(2),s=n(88),u=n(117),c=n(13),f=n(41),h=n(26),l=n(10),p=n(42),d=n(28),v=n(17),y=n(118),m=n(51),g=n(37),_=n(15),b=n(52),w=n(5),A=n(22),E=n(59),x=n(33),M=n(78),P=n(43).f,S=n(60),C=n(19),O=n(3),k=n(31),I=n(45),T=n(79),L=n(35),R=n(25),U=n(46),D=n(64),j=n(111),N=n(140),B=n(6),F=n(54),Y=B.f,V=F.f,z=i.RangeError,q=i.TypeError,G=i.Uint8Array,W=Array.prototype,X=u.ArrayBuffer,H=u.DataView,K=k(0),Z=k(2),J=k(3),Q=k(4),$=k(5),tt=k(6),et=I(!0),nt=I(!1),rt=L.values,it=L.keys,ot=L.entries,at=W.lastIndexOf,st=W.reduce,ut=W.reduceRight,ct=W.join,ft=W.sort,ht=W.slice,lt=W.toString,pt=W.toLocaleString,dt=O("iterator"),vt=O("toStringTag"),yt=C("typed_constructor"),mt=C("def_constructor"),gt=s.CONSTR,_t=s.TYPED,bt=s.VIEW,wt=k(1,(function(t,e){return Pt(T(t,t[mt]),e)})),At=o((function(){return 1===new G(new Uint16Array([1]).buffer)[0]})),Et=!!G&&!!G.prototype.set&&o((function(){new G(1).set({})})),xt=function(t,e){var n=d(t);if(n<0||n%e)throw z("Wrong offset!");return n},Mt=function(t){if(w(t)&&_t in t)return t;throw q(t+" is not a typed array!")},Pt=function(t,e){if(!(w(t)&&yt in t))throw q("It is not a typed array constructor!");return new t(e)},St=function(t,e){return Ct(T(t,t[mt]),e)},Ct=function(t,e){for(var n=0,r=e.length,i=Pt(t,r);r>n;)i[n]=e[n++];return i},Ot=function(t,e,n){Y(t,e,{get:function(){return this._d[n]}})},kt=function(t){var e,n,r,i,o,a,s=A(t),u=arguments.length,f=u>1?arguments[1]:void 0,h=void 0!==f,l=S(s);if(null!=l&&!E(l)){for(a=l.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(h&&u>2&&(f=c(f,arguments[2],2)),e=0,n=v(s.length),i=Pt(this,n);n>e;e++)i[e]=h?f(s[e],e):s[e];return i},It=function(){for(var t=0,e=arguments.length,n=Pt(this,e);e>t;)n[t]=arguments[t++];return n},Tt=!!G&&o((function(){pt.call(new G(1))})),Lt=function(){return pt.apply(Tt?ht.call(Mt(this)):Mt(this),arguments)},Rt={copyWithin:function(t,e){return N.call(Mt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Q(Mt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return j.apply(Mt(this),arguments)},filter:function(t){return St(this,Z(Mt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return $(Mt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Mt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){K(Mt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Mt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Mt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(Mt(this),arguments)},lastIndexOf:function(t){return at.apply(Mt(this),arguments)},map:function(t){return wt(Mt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(Mt(this),arguments)},reduceRight:function(t){return ut.apply(Mt(this),arguments)},reverse:function(){for(var t,e=Mt(this).length,n=Math.floor(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return J(Mt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ft.call(Mt(this),t)},subarray:function(t,e){var n=Mt(this),r=n.length,i=m(t,r);return new(T(n,n[mt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===e?r:m(e,r))-i))}},Ut=function(t,e){return St(this,ht.call(Mt(this),t,e))},Dt=function(t){Mt(this);var e=xt(arguments[1],1),n=this.length,r=A(t),i=v(r.length),o=0;if(i+e>n)throw z("Wrong length!");for(;o<i;)this[e+o]=r[o++]},jt={entries:function(){return ot.call(Mt(this))},keys:function(){return it.call(Mt(this))},values:function(){return rt.call(Mt(this))}},Nt=function(t,e){return w(t)&&t[_t]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Bt=function(t,e){return Nt(t,e=g(e,!0))?h(2,t[e]):V(t,e)},Ft=function(t,e,n){return!(Nt(t,e=g(e,!0))&&w(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?Y(t,e,n):(t[e]=n.value,t)};gt||(F.f=Bt,B.f=Ft),a(a.S+a.F*!gt,"Object",{getOwnPropertyDescriptor:Bt,defineProperty:Ft}),o((function(){lt.call({})}))&&(lt=pt=function(){return ct.call(this)});var Yt=p({},Rt);p(Yt,jt),l(Yt,dt,jt.values),p(Yt,{slice:Ut,set:Dt,constructor:function(){},toString:lt,toLocaleString:Lt}),Ot(Yt,"buffer","b"),Ot(Yt,"byteOffset","o"),Ot(Yt,"byteLength","l"),Ot(Yt,"length","e"),Y(Yt,vt,{get:function(){return this[_t]}}),t.exports=function(t,e,n,u){var c=t+((u=!!u)?"Clamped":"")+"Array",h="get"+t,p="set"+t,d=i[c],m=d||{},g=d&&M(d),_=!d||!s.ABV,A={},E=d&&d.prototype,S=function(t,n){Y(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[h](n*e+r.o,At)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*e+i.o,r,At)}(this,n,t)},enumerable:!0})};_?(d=n((function(t,n,r,i){f(t,d,c,"_d");var o,a,s,u,h=0,p=0;if(w(n)){if(!(n instanceof X||"ArrayBuffer"==(u=b(n))||"SharedArrayBuffer"==u))return _t in n?Ct(d,n):kt.call(d,n);o=n,p=xt(r,e);var m=n.byteLength;if(void 0===i){if(m%e)throw z("Wrong length!");if((a=m-p)<0)throw z("Wrong length!")}else if((a=v(i)*e)+p>m)throw z("Wrong length!");s=a/e}else s=y(n),o=new X(a=s*e);for(l(t,"_d",{b:o,o:p,l:a,e:s,v:new H(o)});h<s;)S(t,h++)})),E=d.prototype=x(Yt),l(E,"constructor",d)):o((function(){d(1)}))&&o((function(){new d(-1)}))&&U((function(t){new d,new d(null),new d(1.5),new d(t)}),!0)||(d=n((function(t,n,r,i){var o;return f(t,d,c),w(n)?n instanceof X||"ArrayBuffer"==(o=b(n))||"SharedArrayBuffer"==o?void 0!==i?new m(n,xt(r,e),i):void 0!==r?new m(n,xt(r,e)):new m(n):_t in n?Ct(d,n):kt.call(d,n):new m(y(n))})),K(g!==Function.prototype?P(m).concat(P(g)):P(m),(function(t){t in d||l(d,t,m[t])})),d.prototype=E,r||(E.constructor=d));var C=E[dt],O=!!C&&("values"==C.name||null==C.name),k=jt.values;l(d,yt,!0),l(E,_t,c),l(E,bt,!0),l(E,mt,d),(u?new d(1)[vt]==c:vt in E)||Y(E,vt,{get:function(){return c}}),A[c]=d,a(a.G+a.W+a.F*(d!=m),A),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o((function(){m.of.call(d,1)})),c,{from:kt,of:It}),"BYTES_PER_ELEMENT"in E||l(E,"BYTES_PER_ELEMENT",e),a(a.P,c,Rt),D(c),a(a.P+a.F*Et,c,{set:Dt}),a(a.P+a.F*!O,c,jt),r||E.toString==lt||(E.toString=lt),a(a.P+a.F*o((function(){new d(1).slice()})),c,{slice:Ut}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()}))||!o((function(){E.toLocaleString.call([1,2])}))),c,{toLocaleString:Lt}),R[c]=O?C:k,r||O||l(E,dt,k)}}else t.exports=function(){}},function(t,e,n){"use strict";var r=n(22),i=n(51),o=n(17);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){var r=n(113);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(5),i=n(53),o=n(3)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(30),i=n(67),o=n(47);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(23),i=n(43).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){"use strict";var r=n(2),i=n(31)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(44)(o)},function(t,e,n){"use strict";var r=n(4),i=n(7),o=n(20),a=n(88),s=n(10),u=n(42),c=n(9),f=n(41),h=n(28),l=n(17),p=n(118),d=n(43).f,v=n(6).f,y=n(111),m=n(27),g=r.ArrayBuffer,_=r.DataView,b=r.Math,w=r.RangeError,A=r.Infinity,E=g,x=b.abs,M=b.pow,P=b.floor,S=b.log,C=b.LN2,O=i?"_b":"buffer",k=i?"_l":"byteLength",I=i?"_o":"byteOffset";function T(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,f=23===e?M(2,-24)-M(2,-77):0,h=0,l=t<0||0===t&&1/t<0?1:0;for((t=x(t))!=t||t===A?(i=t!=t?1:0,r=u):(r=P(S(t)/C),t*(o=M(2,-r))<1&&(r--,o*=2),(t+=r+c>=1?f/o:f*M(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(t*o-1)*M(2,e),r+=c):(i=t*M(2,c-1)*M(2,e),r=0));e>=8;a[h++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[h++]=255&r,r/=256,s-=8);return a[--h]|=128*l,a}function L(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=t[u--],f=127&c;for(c>>=7;s>0;f=256*f+t[u],u--,s-=8);for(r=f&(1<<-s)-1,f>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===f)f=1-a;else{if(f===o)return r?NaN:c?-A:A;r+=M(2,e),f-=a}return(c?-1:1)*r*M(2,f-e)}function R(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function U(t){return[255&t]}function D(t){return[255&t,t>>8&255]}function j(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function N(t){return T(t,52,8)}function B(t){return T(t,23,4)}function F(t,e,n){v(t.prototype,e,{get:function(){return this[n]}})}function Y(t,e,n,r){var i=p(+n);if(i+e>t[k])throw w("Wrong index!");var o=t[O]._b,a=i+t[I],s=o.slice(a,a+e);return r?s:s.reverse()}function V(t,e,n,r,i,o){var a=p(+n);if(a+e>t[k])throw w("Wrong index!");for(var s=t[O]._b,u=a+t[I],c=r(+i),f=0;f<e;f++)s[u+f]=c[o?f:e-f-1]}if(a.ABV){if(!c((function(){g(1)}))||!c((function(){new g(-1)}))||c((function(){return new g,new g(1.5),new g(NaN),"ArrayBuffer"!=g.name}))){for(var z,q=(g=function(t){return f(this,g),new E(p(t))}).prototype=E.prototype,G=d(E),W=0;G.length>W;)(z=G[W++])in g||s(g,z,E[z]);o||(q.constructor=g)}var X=new _(new g(2)),H=_.prototype.setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||u(_.prototype,{setInt8:function(t,e){H.call(this,t,e<<24>>24)},setUint8:function(t,e){H.call(this,t,e<<24>>24)}},!0)}else g=function(t){f(this,g,"ArrayBuffer");var e=p(t);this._b=y.call(new Array(e),0),this[k]=e},_=function(t,e,n){f(this,_,"DataView"),f(t,g,"DataView");var r=t[k],i=h(e);if(i<0||i>r)throw w("Wrong offset!");if(i+(n=void 0===n?r-i:l(n))>r)throw w("Wrong length!");this[O]=t,this[I]=i,this[k]=n},i&&(F(g,"byteLength","_l"),F(_,"buffer","_b"),F(_,"byteLength","_l"),F(_,"byteOffset","_o")),u(_.prototype,{getInt8:function(t){return Y(this,1,t)[0]<<24>>24},getUint8:function(t){return Y(this,1,t)[0]},getInt16:function(t){var e=Y(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Y(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return R(Y(this,4,t,arguments[1]))},getUint32:function(t){return R(Y(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return L(Y(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return L(Y(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){V(this,1,t,U,e)},setUint8:function(t,e){V(this,1,t,U,e)},setInt16:function(t,e){V(this,2,t,D,e,arguments[2])},setUint16:function(t,e){V(this,2,t,D,e,arguments[2])},setInt32:function(t,e){V(this,4,t,j,e,arguments[2])},setUint32:function(t,e){V(this,4,t,j,e,arguments[2])},setFloat32:function(t,e){V(this,4,t,B,e,arguments[2])},setFloat64:function(t,e){V(this,8,t,N,e,arguments[2])}});m(g,"ArrayBuffer"),m(_,"DataView"),s(_.prototype,a.VIEW,!0),e.ArrayBuffer=g,e.DataView=_},function(t,e,n){var r=n(28),i=n(17);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){e.UINT32=n(142),e.UINT64=n(143)},function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var r=n(28),i=n(29);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){n(110)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},,function(t,e,n){var r=n(6).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(7)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(6),i=n(26);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(2);r(r.G+r.W+r.F*!n(88).ABV,{DataView:n(117).DataView})},function(t,e,n){var r=n(5),i=n(24),o=n(3)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(2),i=n(9),o=n(29),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},function(t,e,n){var r=n(127),i=n(29);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(3)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){n(7)&&"g"!=/./g.flags&&n(6).f(RegExp.prototype,"flags",{configurable:!0,get:n(93)})},function(t,e,n){var r=n(2),i=n(18),o=n(9);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(t,e,n){(function(r){var i;
/*!
**  Pure-UUID -- Pure JavaScript Based Universally Unique Identifier (UUID)
**  Copyright (c) 2004-2018 Ralf S. Engelschall <rse@engelschall.com>
**
**  Permission is hereby granted, free of charge, to any person obtaining
**  a copy of this software and associated documentation files (the
**  "Software"), to deal in the Software without restriction, including
**  without limitation the rights to use, copy, modify, merge, publish,
**  distribute, sublicense, and/or sell copies of the Software, and to
**  permit persons to whom the Software is furnished to do so, subject to
**  the following conditions:
**
**  The above copyright notice and this permission notice shall be included
**  in all copies or substantial portions of the Software.
**
**  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/void 0===(i=function(){return function(){var t=function(t,e,n,r,i,o){for(var a=function(t,e){var n=t.toString(16);return n.length<2&&(n="0"+n),e&&(n=n.toUpperCase()),n},s=e;s<=n;s++)i[o++]=a(t[s],r);return i},e=function(t,e,n,r,i){for(var o=e;o<=n;o+=2)r[i++]=parseInt(t.substr(o,2),16)},n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.-:+=^!/*?&<>()[]{}@%$#".split(""),i=[0,68,0,84,83,82,72,0,75,76,70,65,0,63,62,69,0,1,2,3,4,5,6,7,8,9,64,0,73,66,74,71,81,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,77,0,78,67,0,0,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,79,0,80,0,0],o=function(t,e){var n={ibits:8,obits:8,obigendian:!0};for(var r in e)void 0!==n[r]&&(n[r]=e[r]);for(var i,o,a,s=[],u=0,c=0,f=0,h=t.length;0===c&&(o=t.charCodeAt(u++)),i=o>>n.ibits-(c+8)&255,c=(c+8)%n.ibits,n.obigendian?0===f?a=i<<n.obits-8:a|=i<<n.obits-8-f:0===f?a=i:a|=i<<f,!(0==(f=(f+8)%n.obits)&&(s.push(a),u>=h)););return s},a=function(t,e){var n={ibits:32,ibigendian:!0};for(var r in e)void 0!==n[r]&&(n[r]=e[r]);var i="",o=4294967295;n.ibits<32&&(o=(1<<n.ibits)-1);for(var a=t.length,s=0;s<a;s++)for(var u=t[s]&o,c=0;c<n.ibits;c+=8)n.ibigendian?i+=String.fromCharCode(u>>n.ibits-8-c&255):i+=String.fromCharCode(u>>c&255);return i},s=function(t,e,n,r,i,o,a,s){return[s,a,o,i,r,n,e,t]},u=function(){return s(0,0,0,0,0,0,0,0)},c=function(t){return t.slice(0)},f=function(t){for(var e=u(),n=0;n<8;n++)e[n]=Math.floor(t%256),t/=256;return e},h=function(t){for(var e=0,n=7;n>=0;n--)e*=256,e+=t[n];return Math.floor(e)},l=function(t,e){for(var n=0,r=0;r<8;r++)n+=t[r]+e[r],t[r]=Math.floor(n%256),n=Math.floor(n/256);return n},p=function(t,e){for(var n=0,r=0;r<8;r++)n+=t[r]*e,t[r]=Math.floor(n%256),n=Math.floor(n/256);return n},d=function(t,e){for(var n=0;n<8;n++)t[n]&=e[n];return t},v=function(t,e){var n=u();if(e%8!=0)throw new Error("ui64_rorn: only bit rotations supported with a multiple of digit bits");for(var r=Math.floor(e/8),i=0;i<r;i++){for(var o=6;o>=0;o--)n[o+1]=n[o];for(n[0]=t[0],o=0;o<7;o++)t[o]=t[o+1];t[o]=0}return h(n)},y=function(t,e){if(e>64)throw new Error("ui64_ror: invalid number of bits to shift");var n,r=new Array(16);for(n=0;n<8;n++)r[n+8]=t[n],r[n]=0;var i=Math.floor(e/8),o=e%8;for(n=i;n<15;n++)r[n-i]=255&(r[n]>>>o|r[n+1]<<8-o);for(r[15-i]=r[15]>>>o&255,n=15-i+1;n<16;n++)r[n]=0;for(n=0;n<8;n++)t[n]=r[n+8];return r.slice(0,8)},m=function(t,e){for(var n=0;n<8;n++)t[n]^=e[n]},g=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},_=function(t,e){return t<<e&4294967295|t>>>32-e&4294967295},b=function(t){return a(function(t,e){function n(t,e,n,r){return t<20?e&n|~e&r:t<40?e^n^r:t<60?e&n|e&r|n&r:e^n^r}function r(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;for(var i=Array(80),o=1732584193,a=-271733879,s=-1732584194,u=271733878,c=-1009589776,f=0;f<t.length;f+=16){for(var h=o,l=a,p=s,d=u,v=c,y=0;y<80;y++){i[y]=y<16?t[f+y]:_(i[y-3]^i[y-8]^i[y-14]^i[y-16],1);var m=g(g(_(o,5),n(y,a,s,u)),g(g(c,i[y]),r(y)));c=u,u=s,s=_(a,30),a=o,o=m}o=g(o,h),a=g(a,l),s=g(s,p),u=g(u,d),c=g(c,v)}return[o,a,s,u,c]}(o(t,{ibits:8,obits:32,obigendian:!0}),8*t.length),{ibits:32,ibigendian:!0})},w=function(t){return a(function(t,e){function n(t,e,n,r,i,o){return g(_(g(g(e,t),g(r,o)),i),n)}function r(t,e,r,i,o,a,s){return n(e&r|~e&i,t,e,o,a,s)}function i(t,e,r,i,o,a,s){return n(e&i|r&~i,t,e,o,a,s)}function o(t,e,r,i,o,a,s){return n(e^r^i,t,e,o,a,s)}function a(t,e,r,i,o,a,s){return n(r^(e|~i),t,e,o,a,s)}t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var s=1732584193,u=-271733879,c=-1732584194,f=271733878,h=0;h<t.length;h+=16){var l=s,p=u,d=c,v=f;s=r(s,u,c,f,t[h+0],7,-680876936),f=r(f,s,u,c,t[h+1],12,-389564586),c=r(c,f,s,u,t[h+2],17,606105819),u=r(u,c,f,s,t[h+3],22,-1044525330),s=r(s,u,c,f,t[h+4],7,-176418897),f=r(f,s,u,c,t[h+5],12,1200080426),c=r(c,f,s,u,t[h+6],17,-1473231341),u=r(u,c,f,s,t[h+7],22,-45705983),s=r(s,u,c,f,t[h+8],7,1770035416),f=r(f,s,u,c,t[h+9],12,-1958414417),c=r(c,f,s,u,t[h+10],17,-42063),u=r(u,c,f,s,t[h+11],22,-1990404162),s=r(s,u,c,f,t[h+12],7,1804603682),f=r(f,s,u,c,t[h+13],12,-40341101),c=r(c,f,s,u,t[h+14],17,-1502002290),s=i(s,u=r(u,c,f,s,t[h+15],22,1236535329),c,f,t[h+1],5,-165796510),f=i(f,s,u,c,t[h+6],9,-1069501632),c=i(c,f,s,u,t[h+11],14,643717713),u=i(u,c,f,s,t[h+0],20,-373897302),s=i(s,u,c,f,t[h+5],5,-701558691),f=i(f,s,u,c,t[h+10],9,38016083),c=i(c,f,s,u,t[h+15],14,-660478335),u=i(u,c,f,s,t[h+4],20,-405537848),s=i(s,u,c,f,t[h+9],5,568446438),f=i(f,s,u,c,t[h+14],9,-1019803690),c=i(c,f,s,u,t[h+3],14,-187363961),u=i(u,c,f,s,t[h+8],20,1163531501),s=i(s,u,c,f,t[h+13],5,-1444681467),f=i(f,s,u,c,t[h+2],9,-51403784),c=i(c,f,s,u,t[h+7],14,1735328473),s=o(s,u=i(u,c,f,s,t[h+12],20,-1926607734),c,f,t[h+5],4,-378558),f=o(f,s,u,c,t[h+8],11,-2022574463),c=o(c,f,s,u,t[h+11],16,1839030562),u=o(u,c,f,s,t[h+14],23,-35309556),s=o(s,u,c,f,t[h+1],4,-1530992060),f=o(f,s,u,c,t[h+4],11,1272893353),c=o(c,f,s,u,t[h+7],16,-155497632),u=o(u,c,f,s,t[h+10],23,-1094730640),s=o(s,u,c,f,t[h+13],4,681279174),f=o(f,s,u,c,t[h+0],11,-358537222),c=o(c,f,s,u,t[h+3],16,-722521979),u=o(u,c,f,s,t[h+6],23,76029189),s=o(s,u,c,f,t[h+9],4,-640364487),f=o(f,s,u,c,t[h+12],11,-421815835),c=o(c,f,s,u,t[h+15],16,530742520),s=a(s,u=o(u,c,f,s,t[h+2],23,-995338651),c,f,t[h+0],6,-198630844),f=a(f,s,u,c,t[h+7],10,1126891415),c=a(c,f,s,u,t[h+14],15,-1416354905),u=a(u,c,f,s,t[h+5],21,-57434055),s=a(s,u,c,f,t[h+12],6,1700485571),f=a(f,s,u,c,t[h+3],10,-1894986606),c=a(c,f,s,u,t[h+10],15,-1051523),u=a(u,c,f,s,t[h+1],21,-2054922799),s=a(s,u,c,f,t[h+8],6,1873313359),f=a(f,s,u,c,t[h+15],10,-30611744),c=a(c,f,s,u,t[h+6],15,-1560198380),u=a(u,c,f,s,t[h+13],21,1309151649),s=a(s,u,c,f,t[h+4],6,-145523070),f=a(f,s,u,c,t[h+11],10,-1120210379),c=a(c,f,s,u,t[h+2],15,718787259),u=a(u,c,f,s,t[h+9],21,-343485551),s=g(s,l),u=g(u,p),c=g(c,d),f=g(f,v)}return[s,u,c,f]}(o(t,{ibits:8,obits:32,obigendian:!1}),8*t.length),{ibits:32,ibigendian:!1})},A=function(t){this.mul=s(88,81,244,45,76,149,127,45),this.inc=s(20,5,123,126,247,103,129,79),this.mask=s(0,0,0,0,255,255,255,255),this.state=c(this.inc),this.next(),d(this.state,this.mask),t=f(void 0!==t?t>>>0:4294967295*Math.random()>>>0),function(t,e){for(var n=0;n<8;n++)t[n]|=e[n]}(this.state,t),this.next()};A.prototype.next=function(){var t=c(this.state);!function(t,e){var n,r,i,o=new Array(16);for(n=0;n<16;n++)o[n]=0;for(n=0;n<8;n++){for(i=0,r=0;r<8;r++)i+=t[n]*e[r]+o[n+r],o[n+r]=i%256,i/=256;for(;r<16-n;r++)i+=o[n+r],o[n+r]=i%256,i/=256}for(n=0;n<8;n++)t[n]=o[n];o.slice(8,8)}(this.state,this.mul),l(this.state,this.inc);var e=c(t);y(e,18),m(e,t),y(e,27);var n=c(t);y(n,59),d(e,this.mask);var r=h(n),i=c(e);return function(t,e){if(e>64)throw new Error("ui64_rol: invalid number of bits to shift");var n,r=new Array(16);for(n=0;n<8;n++)r[n+8]=0,r[n]=t[n];var i=Math.floor(e/8),o=e%8;for(n=7-i;n>0;n--)r[n+i]=255&(r[n]<<o|r[n-1]>>>8-o);for(r[0+i]=r[0]<<o&255,n=0+i-1;n>=0;n--)r[n]=0;for(n=0;n<8;n++)t[n]=r[n];r.slice(8,8)}(i,32-r),y(e,r),m(e,i),h(e)};var E=new A,x=function(t,e){for(var n=[],r=0;r<t;r++)n[r]=E.next()%e;return n},M=0,P=0,S=function(){if(1===arguments.length&&"string"==typeof arguments[0])this.parse.apply(this,arguments);else if(arguments.length>=1&&"number"==typeof arguments[0])this.make.apply(this,arguments);else{if(arguments.length>=1)throw new Error("UUID: constructor: invalid arguments");for(var t=0;t<16;t++)this[t]=0}};return(S.prototype="undefined"!=typeof Uint8Array?new Uint8Array(16):r?new r(16):new Array(16)).constructor=S,S.prototype.make=function(t){var e,n=this;if(1===t){var r=new Date,i=r.getTime();i!==M?P=0:P++,M=i;var o,a=f(i);p(a,1e4),l(a,s(1,178,29,210,19,129,64,0)),P>0&&l(a,f(P)),o=v(a,8),n[3]=255&o,o=v(a,8),n[2]=255&o,o=v(a,8),n[1]=255&o,o=v(a,8),n[0]=255&o,o=v(a,8),n[5]=255&o,o=v(a,8),n[4]=255&o,o=v(a,8),n[7]=255&o,o=v(a,8),n[6]=15&o;var u=x(2,255);n[8]=u[0],n[9]=u[1];var c=x(6,255);for(c[0]|=1,c[0]|=2,e=0;e<6;e++)n[10+e]=c[e]}else if(4===t){var h=x(16,255);for(e=0;e<16;e++)this[e]=h[e]}else{if(3!==t&&5!==t)throw new Error("UUID: make: invalid version");var d="",y="object"==typeof arguments[1]&&arguments[1]instanceof S?arguments[1]:(new S).parse(arguments[1]);for(e=0;e<16;e++)d+=String.fromCharCode(y[e]);d+=arguments[2];var m=3===t?w(d):b(d);for(e=0;e<16;e++)n[e]=m.charCodeAt(e)}return n[6]&=15,n[6]|=t<<4,n[8]&=63,n[8]|=128,n},S.prototype.format=function(e){var r,i;return"z85"===e?r=function(t,e){if(e%4!=0)throw new Error("z85_encode: invalid input length (multiple of 4 expected)");for(var r="",i=0,o=0;i<e;)if(o=256*o+t[i++],i%4==0){for(var a=52200625;a>=1;){var s=Math.floor(o/a)%85;r+=n[s],a/=85}o=0}return r}(this,16):"b16"===e?(i=Array(32),t(this,0,15,!0,i,0),r=i.join("")):void 0!==e&&"std"!==e||(i=new Array(36),t(this,0,3,!1,i,0),i[8]="-",t(this,4,5,!1,i,9),i[13]="-",t(this,6,7,!1,i,14),i[18]="-",t(this,8,9,!1,i,19),i[23]="-",t(this,10,15,!1,i,24),r=i.join("")),r},S.prototype.toString=function(t){return this.format(t)},S.prototype.parse=function(t,n){if("string"!=typeof t)throw new Error("UUID: parse: invalid argument (type string expected)");if("z85"===n)!function(t,e){var n=t.length;if(n%5!=0)throw new Error("z85_decode: invalid input length (multiple of 5 expected)");void 0===e&&(e=new Array(4*n/5));for(var r=0,o=0,a=0;r<n;){var s=t.charCodeAt(r++)-32;if(s<0||s>=i.length)break;if(a=85*a+i[s],r%5==0){for(var u=16777216;u>=1;)e[o++]=Math.trunc(a/u%256),u/=256;a=0}}}(t,this);else if("b16"===n)e(t,0,35,this,0);else if(void 0===n||"std"===n){var r={nil:"00000000-0000-0000-0000-000000000000","ns:DNS":"6ba7b810-9dad-11d1-80b4-00c04fd430c8","ns:URL":"6ba7b811-9dad-11d1-80b4-00c04fd430c8","ns:OID":"6ba7b812-9dad-11d1-80b4-00c04fd430c8","ns:X500":"6ba7b814-9dad-11d1-80b4-00c04fd430c8"};if(void 0!==r[t])t=r[t];else if(!t.match(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/))throw new Error('UUID: parse: invalid string representation (expected "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")');e(t,0,7,this,0),e(t,9,12,this,4),e(t,14,17,this,6),e(t,19,22,this,8),e(t,24,35,this,10)}return this},S.prototype.export=function(){for(var t=Array(16),e=0;e<16;e++)t[e]=this[e];return t},S.prototype.import=function(t){if(!("object"==typeof t&&t instanceof Array))throw new Error("UUID: import: invalid argument (type Array expected)");if(16!==t.length)throw new Error("UUID: import: invalid argument (Array of length 16 expected)");for(var e=0;e<16;e++){if("number"!=typeof t[e])throw new Error("UUID: import: invalid array element #"+e+" (type Number expected)");if(!isFinite(t[e])||Math.floor(t[e])!==t[e])throw new Error("UUID: import: invalid array element #"+e+" (Number with integer value expected)");if(!(t[e]>=0&&t[e]<=255))throw new Error("UUID: import: invalid array element #"+e+" (Number with integer value in range 0...255 expected)");this[e]=t[e]}return this},S.prototype.compare=function(t){if("object"!=typeof t)throw new Error("UUID: compare: invalid argument (type UUID expected)");if(!(t instanceof S))throw new Error("UUID: compare: invalid argument (type UUID expected)");for(var e=0;e<16;e++){if(this[e]<t[e])return-1;if(this[e]>t[e])return 1}return 0},S.prototype.fold=function(t){if(void 0===t)throw new Error("UUID: fold: invalid argument (number of fold operations expected)");if(t<1||t>4)throw new Error("UUID: fold: invalid argument (1-4 fold operations expected)");for(var e=16/Math.pow(2,t),n=new Array(e),r=0;r<e;r++){for(var i=0,o=0;r+o<16;o+=e)i^=this[r+o];n[r]=i}return n},S.PCG=A,S}()}.call(e,n,e,t))||(t.exports=i)}).call(this,n(87).Buffer)},function(t,e,n){var r=n(5),i=n(83).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},,function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=c(t),r=n[0],a=n[1],s=new o(function(t,e,n){return 3*(e+n)/4-n}(0,r,a)),u=0,f=a>0?r-4:r,h=0;h<f;h+=4)e=i[t.charCodeAt(h)]<<18|i[t.charCodeAt(h+1)]<<12|i[t.charCodeAt(h+2)]<<6|i[t.charCodeAt(h+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;2===a&&(e=i[t.charCodeAt(h)]<<2|i[t.charCodeAt(h+1)]>>4,s[u++]=255&e);1===a&&(e=i[t.charCodeAt(h)]<<10|i[t.charCodeAt(h+1)]<<4|i[t.charCodeAt(h+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(f(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function f(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,f=-7,h=n?i-1:0,l=n?-1:1,p=t[e+h];for(h+=l,o=p&(1<<-f)-1,p>>=-f,f+=s;f>0;o=256*o+t[e+h],h+=l,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=256*a+t[e+h],h+=l,f-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,h=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+h>=1?l/u:l*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=f?(s=0,a=f):a+h>=1?(s=(e*u-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var r=n(22),i=n(51),o=n(17);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),u=i(e,a),c=arguments.length>2?arguments[2]:void 0,f=Math.min((void 0===c?a:i(c,a))-u,a-s),h=1;for(u<s&&s<u+f&&(h=-1,u+=f-1,s+=f-1);f-- >0;)u in n?n[s]=n[u]:delete n[s],s+=h,u+=h;return n}},function(t,e,n){(function(e){var r=n(119).UINT32;r.prototype.xxh_update=function(t,e){var n,r,a=o._low,s=o._high;n=(r=t*a)>>>16,n+=e*a,n&=65535,n+=t*s;var u=this._low+(65535&r),c=u>>>16,f=(c+=this._high+(65535&n))<<16|65535&u;c=(f=f<<13|f>>>19)>>>16,n=(r=(u=65535&f)*(a=i._low))>>>16,n+=c*a,n&=65535,n+=u*(s=i._high),this._low=65535&r,this._high=65535&n};var i=r("2654435761"),o=r("2246822519"),a=r("3266489917"),s=r("668265263"),u=r("374761393");function c(){return 2==arguments.length?new c(arguments[1]).update(arguments[0]).digest():this instanceof c?void f.call(this,arguments[0]):new c(arguments[0])}function f(t){return this.seed=t instanceof r?t.clone():r(t),this.v1=this.seed.clone().add(i).add(o),this.v2=this.seed.clone().add(o),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(i),this.total_len=0,this.memsize=0,this.memory=null,this}c.prototype.init=f,c.prototype.update=function(t){var n,r="string"==typeof t;r&&(t=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t.charCodeAt(n);i<128?e.push(i):i<2048?e.push(192|i>>6,128|63&i):i<55296||i>=57344?e.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return new Uint8Array(e)}(t),r=!1,n=!0),"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&(n=!0,t=new Uint8Array(t));var i=0,o=t.length,a=i+o;if(0==o)return this;if(this.total_len+=o,0==this.memsize&&(this.memory=r?"":n?new Uint8Array(16):new e(16)),this.memsize+o<16)return r?this.memory+=t:n?this.memory.set(t.subarray(0,o),this.memsize):t.copy(this.memory,this.memsize,0,o),this.memsize+=o,this;if(this.memsize>0){r?this.memory+=t.slice(0,16-this.memsize):n?this.memory.set(t.subarray(0,16-this.memsize),this.memsize):t.copy(this.memory,this.memsize,0,16-this.memsize);var s=0;r?(this.v1.xxh_update(this.memory.charCodeAt(s+1)<<8|this.memory.charCodeAt(s),this.memory.charCodeAt(s+3)<<8|this.memory.charCodeAt(s+2)),s+=4,this.v2.xxh_update(this.memory.charCodeAt(s+1)<<8|this.memory.charCodeAt(s),this.memory.charCodeAt(s+3)<<8|this.memory.charCodeAt(s+2)),s+=4,this.v3.xxh_update(this.memory.charCodeAt(s+1)<<8|this.memory.charCodeAt(s),this.memory.charCodeAt(s+3)<<8|this.memory.charCodeAt(s+2)),s+=4,this.v4.xxh_update(this.memory.charCodeAt(s+1)<<8|this.memory.charCodeAt(s),this.memory.charCodeAt(s+3)<<8|this.memory.charCodeAt(s+2))):(this.v1.xxh_update(this.memory[s+1]<<8|this.memory[s],this.memory[s+3]<<8|this.memory[s+2]),s+=4,this.v2.xxh_update(this.memory[s+1]<<8|this.memory[s],this.memory[s+3]<<8|this.memory[s+2]),s+=4,this.v3.xxh_update(this.memory[s+1]<<8|this.memory[s],this.memory[s+3]<<8|this.memory[s+2]),s+=4,this.v4.xxh_update(this.memory[s+1]<<8|this.memory[s],this.memory[s+3]<<8|this.memory[s+2])),i+=16-this.memsize,this.memsize=0,r&&(this.memory="")}if(i<=a-16){var u=a-16;do{r?(this.v1.xxh_update(t.charCodeAt(i+1)<<8|t.charCodeAt(i),t.charCodeAt(i+3)<<8|t.charCodeAt(i+2)),i+=4,this.v2.xxh_update(t.charCodeAt(i+1)<<8|t.charCodeAt(i),t.charCodeAt(i+3)<<8|t.charCodeAt(i+2)),i+=4,this.v3.xxh_update(t.charCodeAt(i+1)<<8|t.charCodeAt(i),t.charCodeAt(i+3)<<8|t.charCodeAt(i+2)),i+=4,this.v4.xxh_update(t.charCodeAt(i+1)<<8|t.charCodeAt(i),t.charCodeAt(i+3)<<8|t.charCodeAt(i+2))):(this.v1.xxh_update(t[i+1]<<8|t[i],t[i+3]<<8|t[i+2]),i+=4,this.v2.xxh_update(t[i+1]<<8|t[i],t[i+3]<<8|t[i+2]),i+=4,this.v3.xxh_update(t[i+1]<<8|t[i],t[i+3]<<8|t[i+2]),i+=4,this.v4.xxh_update(t[i+1]<<8|t[i],t[i+3]<<8|t[i+2])),i+=4}while(i<=u)}return i<a&&(r?this.memory+=t.slice(i):n?this.memory.set(t.subarray(i,a),this.memsize):t.copy(this.memory,this.memsize,i,a),this.memsize=a-i),this},c.prototype.digest=function(){var t,e,n=this.memory,c="string"==typeof n,f=0,h=this.memsize,l=new r;for((t=this.total_len>=16?this.v1.rotl(1).add(this.v2.rotl(7).add(this.v3.rotl(12).add(this.v4.rotl(18)))):this.seed.clone().add(u)).add(l.fromNumber(this.total_len));f<=h-4;)c?l.fromBits(n.charCodeAt(f+1)<<8|n.charCodeAt(f),n.charCodeAt(f+3)<<8|n.charCodeAt(f+2)):l.fromBits(n[f+1]<<8|n[f],n[f+3]<<8|n[f+2]),t.add(l.multiply(a)).rotl(17).multiply(s),f+=4;for(;f<h;)l.fromBits(c?n.charCodeAt(f++):n[f++],0),t.add(l.multiply(u)).rotl(11).multiply(i);return e=t.clone().shiftRight(15),t.xor(e).multiply(o),e=t.clone().shiftRight(13),t.xor(e).multiply(a),e=t.clone().shiftRight(16),t.xor(e),this.init(this.seed),t},t.exports=c}).call(this,n(87).Buffer)},function(t,e,n){var r;!function(n){i(Math.pow(36,5)),i(Math.pow(16,7)),i(Math.pow(10,9)),i(Math.pow(2,30)),i(36),i(16),i(10),i(2);function i(t,e){return this instanceof i?(this._low=0,this._high=0,this.remainder=null,void 0===e?a.call(this,t):"string"==typeof t?s.call(this,t,e):void o.call(this,t,e)):new i(t,e)}function o(t,e){return this._low=0|t,this._high=0|e,this}function a(t){return this._low=65535&t,this._high=t>>>16,this}function s(t,e){var n=parseInt(t,e||10);return this._low=65535&n,this._high=n>>>16,this}i.prototype.fromBits=o,i.prototype.fromNumber=a,i.prototype.fromString=s,i.prototype.toNumber=function(){return 65536*this._high+this._low},i.prototype.toString=function(t){return this.toNumber().toString(t||10)},i.prototype.add=function(t){var e=this._low+t._low,n=e>>>16;return n+=this._high+t._high,this._low=65535&e,this._high=65535&n,this},i.prototype.subtract=function(t){return this.add(t.clone().negate())},i.prototype.multiply=function(t){var e,n,r=this._high,i=this._low,o=t._high,a=t._low;return e=(n=i*a)>>>16,e+=r*a,e&=65535,e+=i*o,this._low=65535&n,this._high=65535&e,this},i.prototype.div=function(t){if(0==t._low&&0==t._high)throw Error("division by zero");if(0==t._high&&1==t._low)return this.remainder=new i(0),this;if(t.gt(this))return this.remainder=this.clone(),this._low=0,this._high=0,this;if(this.eq(t))return this.remainder=new i(0),this._low=1,this._high=0,this;for(var e=t.clone(),n=-1;!this.lt(e);)e.shiftLeft(1,!0),n++;for(this.remainder=this.clone(),this._low=0,this._high=0;n>=0;n--)e.shiftRight(1),this.remainder.lt(e)||(this.remainder.subtract(e),n>=16?this._high|=1<<n-16:this._low|=1<<n);return this},i.prototype.negate=function(){var t=1+(65535&~this._low);return this._low=65535&t,this._high=~this._high+(t>>>16)&65535,this},i.prototype.equals=i.prototype.eq=function(t){return this._low==t._low&&this._high==t._high},i.prototype.greaterThan=i.prototype.gt=function(t){return this._high>t._high||!(this._high<t._high)&&this._low>t._low},i.prototype.lessThan=i.prototype.lt=function(t){return this._high<t._high||!(this._high>t._high)&&this._low<t._low},i.prototype.or=function(t){return this._low|=t._low,this._high|=t._high,this},i.prototype.and=function(t){return this._low&=t._low,this._high&=t._high,this},i.prototype.not=function(){return this._low=65535&~this._low,this._high=65535&~this._high,this},i.prototype.xor=function(t){return this._low^=t._low,this._high^=t._high,this},i.prototype.shiftRight=i.prototype.shiftr=function(t){return t>16?(this._low=this._high>>t-16,this._high=0):16==t?(this._low=this._high,this._high=0):(this._low=this._low>>t|this._high<<16-t&65535,this._high>>=t),this},i.prototype.shiftLeft=i.prototype.shiftl=function(t,e){return t>16?(this._high=this._low<<t-16,this._low=0,e||(this._high&=65535)):16==t?(this._high=this._low,this._low=0):(this._high=this._high<<t|this._low>>16-t,this._low=this._low<<t&65535,e||(this._high&=65535)),this},i.prototype.rotateLeft=i.prototype.rotl=function(t){var e=this._high<<16|this._low;return e=e<<t|e>>>32-t,this._low=65535&e,this._high=e>>>16,this},i.prototype.rotateRight=i.prototype.rotr=function(t){var e=this._high<<16|this._low;return e=e>>>t|e<<32-t,this._low=65535&e,this._high=e>>>16,this},i.prototype.clone=function(){return new i(this._low,this._high)},void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){var r;!function(n){var i={16:a(Math.pow(16,5)),10:a(Math.pow(10,5)),2:a(Math.pow(2,5))},o={16:a(16),10:a(10),2:a(2)};function a(t,e,n,r){return this instanceof a?(this.remainder=null,"string"==typeof t?c.call(this,t,e):void 0===e?u.call(this,t):void s.apply(this,arguments)):new a(t,e,n,r)}function s(t,e,n,r){return void 0===n?(this._a00=65535&t,this._a16=t>>>16,this._a32=65535&e,this._a48=e>>>16,this):(this._a00=0|t,this._a16=0|e,this._a32=0|n,this._a48=0|r,this)}function u(t){return this._a00=65535&t,this._a16=t>>>16,this._a32=0,this._a48=0,this}function c(t,e){e=e||10,this._a00=0,this._a16=0,this._a32=0,this._a48=0;for(var n=i[e]||new a(Math.pow(e,5)),r=0,o=t.length;r<o;r+=5){var s=Math.min(5,o-r),u=parseInt(t.slice(r,r+s),e);this.multiply(s<5?new a(Math.pow(e,s)):n).add(new a(u))}return this}a.prototype.fromBits=s,a.prototype.fromNumber=u,a.prototype.fromString=c,a.prototype.toNumber=function(){return 65536*this._a16+this._a00},a.prototype.toString=function(t){var e=o[t=t||10]||new a(t);if(!this.gt(e))return this.toNumber().toString(t);for(var n=this.clone(),r=new Array(64),i=63;i>=0&&(n.div(e),r[i]=n.remainder.toNumber().toString(t),n.gt(e));i--);return r[i-1]=n.toNumber().toString(t),r.join("")},a.prototype.add=function(t){var e=this._a00+t._a00,n=e>>>16,r=(n+=this._a16+t._a16)>>>16,i=(r+=this._a32+t._a32)>>>16;return i+=this._a48+t._a48,this._a00=65535&e,this._a16=65535&n,this._a32=65535&r,this._a48=65535&i,this},a.prototype.subtract=function(t){return this.add(t.clone().negate())},a.prototype.multiply=function(t){var e=this._a00,n=this._a16,r=this._a32,i=this._a48,o=t._a00,a=t._a16,s=t._a32,u=e*o,c=u>>>16,f=(c+=e*a)>>>16;c&=65535,f+=(c+=n*o)>>>16;var h=(f+=e*s)>>>16;return f&=65535,h+=(f+=n*a)>>>16,f&=65535,h+=(f+=r*o)>>>16,h+=e*t._a48,h&=65535,h+=n*s,h&=65535,h+=r*a,h&=65535,h+=i*o,this._a00=65535&u,this._a16=65535&c,this._a32=65535&f,this._a48=65535&h,this},a.prototype.div=function(t){if(0==t._a16&&0==t._a32&&0==t._a48){if(0==t._a00)throw Error("division by zero");if(1==t._a00)return this.remainder=new a(0),this}if(t.gt(this))return this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0,this;if(this.eq(t))return this.remainder=new a(0),this._a00=1,this._a16=0,this._a32=0,this._a48=0,this;for(var e=t.clone(),n=-1;!this.lt(e);)e.shiftLeft(1,!0),n++;for(this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0;n>=0;n--)e.shiftRight(1),this.remainder.lt(e)||(this.remainder.subtract(e),n>=48?this._a48|=1<<n-48:n>=32?this._a32|=1<<n-32:n>=16?this._a16|=1<<n-16:this._a00|=1<<n);return this},a.prototype.negate=function(){var t=1+(65535&~this._a00);return this._a00=65535&t,t=(65535&~this._a16)+(t>>>16),this._a16=65535&t,t=(65535&~this._a32)+(t>>>16),this._a32=65535&t,this._a48=~this._a48+(t>>>16)&65535,this},a.prototype.equals=a.prototype.eq=function(t){return this._a48==t._a48&&this._a00==t._a00&&this._a32==t._a32&&this._a16==t._a16},a.prototype.greaterThan=a.prototype.gt=function(t){return this._a48>t._a48||!(this._a48<t._a48)&&(this._a32>t._a32||!(this._a32<t._a32)&&(this._a16>t._a16||!(this._a16<t._a16)&&this._a00>t._a00))},a.prototype.lessThan=a.prototype.lt=function(t){return this._a48<t._a48||!(this._a48>t._a48)&&(this._a32<t._a32||!(this._a32>t._a32)&&(this._a16<t._a16||!(this._a16>t._a16)&&this._a00<t._a00))},a.prototype.or=function(t){return this._a00|=t._a00,this._a16|=t._a16,this._a32|=t._a32,this._a48|=t._a48,this},a.prototype.and=function(t){return this._a00&=t._a00,this._a16&=t._a16,this._a32&=t._a32,this._a48&=t._a48,this},a.prototype.xor=function(t){return this._a00^=t._a00,this._a16^=t._a16,this._a32^=t._a32,this._a48^=t._a48,this},a.prototype.not=function(){return this._a00=65535&~this._a00,this._a16=65535&~this._a16,this._a32=65535&~this._a32,this._a48=65535&~this._a48,this},a.prototype.shiftRight=a.prototype.shiftr=function(t){return(t%=64)>=48?(this._a00=this._a48>>t-48,this._a16=0,this._a32=0,this._a48=0):t>=32?(t-=32,this._a00=65535&(this._a32>>t|this._a48<<16-t),this._a16=this._a48>>t&65535,this._a32=0,this._a48=0):t>=16?(t-=16,this._a00=65535&(this._a16>>t|this._a32<<16-t),this._a16=65535&(this._a32>>t|this._a48<<16-t),this._a32=this._a48>>t&65535,this._a48=0):(this._a00=65535&(this._a00>>t|this._a16<<16-t),this._a16=65535&(this._a16>>t|this._a32<<16-t),this._a32=65535&(this._a32>>t|this._a48<<16-t),this._a48=this._a48>>t&65535),this},a.prototype.shiftLeft=a.prototype.shiftl=function(t,e){return(t%=64)>=48?(this._a48=this._a00<<t-48,this._a32=0,this._a16=0,this._a00=0):t>=32?(t-=32,this._a48=this._a16<<t|this._a00>>16-t,this._a32=this._a00<<t&65535,this._a16=0,this._a00=0):t>=16?(t-=16,this._a48=this._a32<<t|this._a16>>16-t,this._a32=65535&(this._a16<<t|this._a00>>16-t),this._a16=this._a00<<t&65535,this._a00=0):(this._a48=this._a48<<t|this._a32>>16-t,this._a32=65535&(this._a32<<t|this._a16>>16-t),this._a16=65535&(this._a16<<t|this._a00>>16-t),this._a00=this._a00<<t&65535),e||(this._a48&=65535),this},a.prototype.rotateLeft=a.prototype.rotl=function(t){if(0==(t%=64))return this;if(t>=32){var e=this._a00;if(this._a00=this._a32,this._a32=e,e=this._a48,this._a48=this._a16,this._a16=e,32==t)return this;t-=32}var n=this._a48<<16|this._a32,r=this._a16<<16|this._a00,i=n<<t|r>>>32-t,o=r<<t|n>>>32-t;return this._a00=65535&o,this._a16=o>>>16,this._a32=65535&i,this._a48=i>>>16,this},a.prototype.rotateRight=a.prototype.rotr=function(t){if(0==(t%=64))return this;if(t>=32){var e=this._a00;if(this._a00=this._a32,this._a32=e,e=this._a48,this._a48=this._a16,this._a16=e,32==t)return this;t-=32}var n=this._a48<<16|this._a32,r=this._a16<<16|this._a00,i=n>>>t|r<<32-t,o=r>>>t|n<<32-t;return this._a00=65535&o,this._a16=o>>>16,this._a32=65535&i,this._a48=i>>>16,this},a.prototype.clone=function(){return new a(this._a00,this._a16,this._a32,this._a48)},void 0===(r=function(){return a}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){(function(e){var r=n(119).UINT64,i=r("11400714785074694791"),o=r("14029467366897019727"),a=r("1609587929392839161"),s=r("9650029242287828579"),u=r("2870177450012600261");function c(){return 2==arguments.length?new c(arguments[1]).update(arguments[0]).digest():this instanceof c?void f.call(this,arguments[0]):new c(arguments[0])}function f(t){return this.seed=t instanceof r?t.clone():r(t),this.v1=this.seed.clone().add(i).add(o),this.v2=this.seed.clone().add(o),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(i),this.total_len=0,this.memsize=0,this.memory=null,this}c.prototype.init=f,c.prototype.update=function(t){var n,a="string"==typeof t;a&&(t=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t.charCodeAt(n);i<128?e.push(i):i<2048?e.push(192|i>>6,128|63&i):i<55296||i>=57344?e.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return new Uint8Array(e)}(t),a=!1,n=!0),"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&(n=!0,t=new Uint8Array(t));var s=0,u=t.length,c=s+u;if(0==u)return this;if(this.total_len+=u,0==this.memsize&&(this.memory=a?"":n?new Uint8Array(32):new e(32)),this.memsize+u<32)return a?this.memory+=t:n?this.memory.set(t.subarray(0,u),this.memsize):t.copy(this.memory,this.memsize,0,u),this.memsize+=u,this;if(this.memsize>0){a?this.memory+=t.slice(0,32-this.memsize):n?this.memory.set(t.subarray(0,32-this.memsize),this.memsize):t.copy(this.memory,this.memsize,0,32-this.memsize);var f=0;if(a)l=r(this.memory.charCodeAt(f+1)<<8|this.memory.charCodeAt(f),this.memory.charCodeAt(f+3)<<8|this.memory.charCodeAt(f+2),this.memory.charCodeAt(f+5)<<8|this.memory.charCodeAt(f+4),this.memory.charCodeAt(f+7)<<8|this.memory.charCodeAt(f+6)),this.v1.add(l.multiply(o)).rotl(31).multiply(i),f+=8,l=r(this.memory.charCodeAt(f+1)<<8|this.memory.charCodeAt(f),this.memory.charCodeAt(f+3)<<8|this.memory.charCodeAt(f+2),this.memory.charCodeAt(f+5)<<8|this.memory.charCodeAt(f+4),this.memory.charCodeAt(f+7)<<8|this.memory.charCodeAt(f+6)),this.v2.add(l.multiply(o)).rotl(31).multiply(i),f+=8,l=r(this.memory.charCodeAt(f+1)<<8|this.memory.charCodeAt(f),this.memory.charCodeAt(f+3)<<8|this.memory.charCodeAt(f+2),this.memory.charCodeAt(f+5)<<8|this.memory.charCodeAt(f+4),this.memory.charCodeAt(f+7)<<8|this.memory.charCodeAt(f+6)),this.v3.add(l.multiply(o)).rotl(31).multiply(i),f+=8,l=r(this.memory.charCodeAt(f+1)<<8|this.memory.charCodeAt(f),this.memory.charCodeAt(f+3)<<8|this.memory.charCodeAt(f+2),this.memory.charCodeAt(f+5)<<8|this.memory.charCodeAt(f+4),this.memory.charCodeAt(f+7)<<8|this.memory.charCodeAt(f+6)),this.v4.add(l.multiply(o)).rotl(31).multiply(i);else l=r(this.memory[f+1]<<8|this.memory[f],this.memory[f+3]<<8|this.memory[f+2],this.memory[f+5]<<8|this.memory[f+4],this.memory[f+7]<<8|this.memory[f+6]),this.v1.add(l.multiply(o)).rotl(31).multiply(i),f+=8,l=r(this.memory[f+1]<<8|this.memory[f],this.memory[f+3]<<8|this.memory[f+2],this.memory[f+5]<<8|this.memory[f+4],this.memory[f+7]<<8|this.memory[f+6]),this.v2.add(l.multiply(o)).rotl(31).multiply(i),f+=8,l=r(this.memory[f+1]<<8|this.memory[f],this.memory[f+3]<<8|this.memory[f+2],this.memory[f+5]<<8|this.memory[f+4],this.memory[f+7]<<8|this.memory[f+6]),this.v3.add(l.multiply(o)).rotl(31).multiply(i),f+=8,l=r(this.memory[f+1]<<8|this.memory[f],this.memory[f+3]<<8|this.memory[f+2],this.memory[f+5]<<8|this.memory[f+4],this.memory[f+7]<<8|this.memory[f+6]),this.v4.add(l.multiply(o)).rotl(31).multiply(i);s+=32-this.memsize,this.memsize=0,a&&(this.memory="")}if(s<=c-32){var h=c-32;do{var l;if(a)l=r(t.charCodeAt(s+1)<<8|t.charCodeAt(s),t.charCodeAt(s+3)<<8|t.charCodeAt(s+2),t.charCodeAt(s+5)<<8|t.charCodeAt(s+4),t.charCodeAt(s+7)<<8|t.charCodeAt(s+6)),this.v1.add(l.multiply(o)).rotl(31).multiply(i),s+=8,l=r(t.charCodeAt(s+1)<<8|t.charCodeAt(s),t.charCodeAt(s+3)<<8|t.charCodeAt(s+2),t.charCodeAt(s+5)<<8|t.charCodeAt(s+4),t.charCodeAt(s+7)<<8|t.charCodeAt(s+6)),this.v2.add(l.multiply(o)).rotl(31).multiply(i),s+=8,l=r(t.charCodeAt(s+1)<<8|t.charCodeAt(s),t.charCodeAt(s+3)<<8|t.charCodeAt(s+2),t.charCodeAt(s+5)<<8|t.charCodeAt(s+4),t.charCodeAt(s+7)<<8|t.charCodeAt(s+6)),this.v3.add(l.multiply(o)).rotl(31).multiply(i),s+=8,l=r(t.charCodeAt(s+1)<<8|t.charCodeAt(s),t.charCodeAt(s+3)<<8|t.charCodeAt(s+2),t.charCodeAt(s+5)<<8|t.charCodeAt(s+4),t.charCodeAt(s+7)<<8|t.charCodeAt(s+6)),this.v4.add(l.multiply(o)).rotl(31).multiply(i);else l=r(t[s+1]<<8|t[s],t[s+3]<<8|t[s+2],t[s+5]<<8|t[s+4],t[s+7]<<8|t[s+6]),this.v1.add(l.multiply(o)).rotl(31).multiply(i),l=r(t[(s+=8)+1]<<8|t[s],t[s+3]<<8|t[s+2],t[s+5]<<8|t[s+4],t[s+7]<<8|t[s+6]),this.v2.add(l.multiply(o)).rotl(31).multiply(i),l=r(t[(s+=8)+1]<<8|t[s],t[s+3]<<8|t[s+2],t[s+5]<<8|t[s+4],t[s+7]<<8|t[s+6]),this.v3.add(l.multiply(o)).rotl(31).multiply(i),l=r(t[(s+=8)+1]<<8|t[s],t[s+3]<<8|t[s+2],t[s+5]<<8|t[s+4],t[s+7]<<8|t[s+6]),this.v4.add(l.multiply(o)).rotl(31).multiply(i);s+=8}while(s<=h)}return s<c&&(a?this.memory+=t.slice(s):n?this.memory.set(t.subarray(s,c),this.memsize):t.copy(this.memory,this.memsize,s,c),this.memsize=c-s),this},c.prototype.digest=function(){var t,e,n=this.memory,c="string"==typeof n,f=0,h=this.memsize,l=new r;for(this.total_len>=32?((t=this.v1.clone().rotl(1)).add(this.v2.clone().rotl(7)),t.add(this.v3.clone().rotl(12)),t.add(this.v4.clone().rotl(18)),t.xor(this.v1.multiply(o).rotl(31).multiply(i)),t.multiply(i).add(s),t.xor(this.v2.multiply(o).rotl(31).multiply(i)),t.multiply(i).add(s),t.xor(this.v3.multiply(o).rotl(31).multiply(i)),t.multiply(i).add(s),t.xor(this.v4.multiply(o).rotl(31).multiply(i)),t.multiply(i).add(s)):t=this.seed.clone().add(u),t.add(l.fromNumber(this.total_len));f<=h-8;)c?l.fromBits(n.charCodeAt(f+1)<<8|n.charCodeAt(f),n.charCodeAt(f+3)<<8|n.charCodeAt(f+2),n.charCodeAt(f+5)<<8|n.charCodeAt(f+4),n.charCodeAt(f+7)<<8|n.charCodeAt(f+6)):l.fromBits(n[f+1]<<8|n[f],n[f+3]<<8|n[f+2],n[f+5]<<8|n[f+4],n[f+7]<<8|n[f+6]),l.multiply(o).rotl(31).multiply(i),t.xor(l).rotl(27).multiply(i).add(s),f+=8;for(f+4<=h&&(c?l.fromBits(n.charCodeAt(f+1)<<8|n.charCodeAt(f),n.charCodeAt(f+3)<<8|n.charCodeAt(f+2),0,0):l.fromBits(n[f+1]<<8|n[f],n[f+3]<<8|n[f+2],0,0),t.xor(l.multiply(i)).rotl(23).multiply(o).add(a),f+=4);f<h;)l.fromBits(c?n.charCodeAt(f++):n[f++],0,0,0),t.xor(l.multiply(u)).rotl(11).multiply(i);return e=t.clone().shiftRight(33),t.xor(e).multiply(o),e=t.clone().shiftRight(29),t.xor(e).multiply(a),e=t.clone().shiftRight(32),t.xor(e),this.init(this.seed),t},t.exports=c}).call(this,n(87).Buffer)},function(t,e,n){"use strict";var r=n(146),i=n(120);t.exports=n(147)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(6).f,i=n(33),o=n(42),a=n(13),s=n(41),u=n(63),c=n(58),f=n(82),h=n(64),l=n(7),p=n(65).fastKey,d=n(120),v=l?"_s":"size",y=function(t,e){var n,r=p(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var f=t((function(t,r){s(t,f,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,null!=r&&u(r,n,t[c],t)}));return o(f.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=d(this,e),r=y(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(t){d(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(d(this,e),t)}}),l&&r(f.prototype,"size",{get:function(){return d(this,e)[v]}}),f},def:function(t,e,n){var r,i,o=y(t,e);return o?o.v=n:(t._l=o={i:i=p(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,e,n){c(t,e,(function(t,n){this._t=d(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?f(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,f(1))}),n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var r=n(4),i=n(2),o=n(16),a=n(42),s=n(65),u=n(63),c=n(41),f=n(5),h=n(9),l=n(46),p=n(27),d=n(134);t.exports=function(t,e,n,v,y,m){var g=r[t],_=g,b=y?"set":"add",w=_&&_.prototype,A={},E=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(m&&!f(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!f(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof _&&(m||w.forEach&&!h((function(){(new _).entries().next()})))){var x=new _,M=x[b](m?{}:-0,1)!=x,P=h((function(){x.has(1)})),S=l((function(t){new _(t)})),C=!m&&h((function(){for(var t=new _,e=5;e--;)t[b](e,e);return!t.has(-0)}));S||((_=e((function(e,n){c(e,_,t);var r=d(new g,e,_);return null!=n&&u(n,y,r[b],r),r}))).prototype=w,w.constructor=_),(P||C)&&(E("delete"),E("has"),y&&E("get")),(C||M)&&E(b),m&&w.clear&&delete w.clear}else _=v.getConstructor(e,t,y,b),a(_.prototype,n),s.NEED=!0;return p(_,t),A[t]=_,i(i.G+i.W+i.F*(_!=g),A),m||v.setStrong(_,t,y),_}},,,function(t,e,n){"use strict";var r=n(2),i=n(32),o=n(22),a=n(9),s=[].sort,u=[1,2,3];r(r.P+r.F*(a((function(){u.sort(void 0)}))||!a((function(){u.sort(null)}))||!n(36)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports=n(216).default},function(t,e,n){"use strict";n.r(e),function(t,r){n.d(e,"default",(function(){return v}));n(35),n(103),n(85),n(86),n(95),n(57),n(21),n(80),n(84),n(38),n(39),n(150),n(75),n(55),n(56),n(90),n(40),n(92),n(116),n(62);var i=n(81);n(14);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){s(t,e,n[e])}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){c(o,r,i,a,s,"next",t)}function s(t){c(o,r,i,a,s,"throw",t)}a(void 0)}))}}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(e){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=l(this,p(n).call(this,t,"LabelDisplay"))).canvas=t.streamerConfig.display.canvas,e.labelEntities=[],e.labelIndex=0,e.viewports=[],e.currentSelectedLabel=null,e.displayLabels=!0,e.onLabelListUpdated=function(t){},e.onLabelSelected=function(t){},e.computeRelativePos(),e}var i,o,s,c,v;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(n,e),i=n,(o=[{key:"onInit",value:(v=f(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("SDK3DVerse_LabelDisplay onInit"),this.sdk.notifier.on("onFrameRendered",(function(){return e.onFrameRendered()})),this.sdk.notifier.on("onViewportsUpdated",(function(t){return e.onViewportsUpdated(t)})),this.sdk.notifier.on("onCanvasResized",(function(){return e.computeRelativePos()})),this.listenEvents(),this.overloadWebAPI();case 6:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"listenEvents",value:(c=f(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sdk.onEditorConnected();case 2:return t.next=4,this.sdk.engineAPI.filterEntities({mandatoryComponents:["label"]});case 4:for(n in e=t.sent)this.createLabel(e[n]);this.sdk.engineAPI.editorAPI.on("entity-created",(function(t){t.isAttached("label")&&r.createLabel(t)})),this.sdk.engineAPI.editorAPI.on("entities-deleted",(function(t){for(var e in t){var n=r.labelEntities.findIndex((function(n){return n.getID()==t[e]}));if(-1!=n){var i=r.labelEntities[n];r.sdk.webAPI.deletePointOfInterestThumbnail(i.getEUID()),r.removeLabelElements(i.labelElements),r.labelEntities.splice(n,1)}r.currentSelectedLabel&&r.currentSelectedLabel.getID()==t[e]&&(r.onLabelSelected(null),r.currentSelectedLabel=null)}r.onLabelListUpdated(r.labelEntities)}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"createLabel",value:function(t){var e=++this.labelIndex;t.labelElements=[];for(var n=0;n<this.sdk.engineAPI.cameraAPI.MAX_VIEWPORT;++n)t.labelElements.push(this.createLabelElement(e,t,n));this.labelEntities.push(t),this.addLabelElementsToViewports(t.labelElements),this.onLabelListUpdated(this.labelEntities)}},{key:"createLabelElement",value:function(t,e,n){var r=this,i=e.getComponent("label"),o=document.createElement("div");o.className="label-container";var a=document.createElement("div");a.className="label",a.innerText=t;var s,u=document.createElement("div");return u.className="label-title",u.innerText=i.title,o.appendChild(a),i.title&&(o.appendChild(u),a.addEventListener("mouseover",(function(t){return r.onLabelHovered(t,u)})),a.addEventListener("mouseleave",(function(t){return r.onLabelHovered(t,u)}))),a.addEventListener("click",(s=e,function(){return r.onLabelClicked(s,s.labelElements[n].viewport)})),{labelElement:a,titleElement:u,containerElement:o}}},{key:"addLabelElementsToViewports",value:function(t){var e=this;this.viewports.forEach((function(n){var r=t[n.id];r.parent=n.domElement||e.canvas.parentElement,r.viewport=n,r.parent.appendChild(r.containerElement)}))}},{key:"removeLabelElements",value:function(t){t.forEach((function(t){t.parent&&t.parent.removeChild(t.containerElement),t.parent=null}))}},{key:"onLabelHovered",value:function(t,e){e.classList.toggle("label-title-hovered")}},{key:"selectPrevious",value:function(){if(this.currentSelectedLabel){var t=this.labelEntities.indexOf(this.currentSelectedLabel);-1==--t&&(t=this.labelEntities.length-1),this.onLabelClicked(this.labelEntities[t])}else this.onLabelClicked(this.labelEntities[this.labelEntities.length-1])}},{key:"selectNext",value:function(){if(this.currentSelectedLabel){var t=this.labelEntities.indexOf(this.currentSelectedLabel);++t==this.labelEntities.length&&(t=0),this.onLabelClicked(this.labelEntities[t])}else this.onLabelClicked(this.labelEntities[0])}},{key:"toggleDisplay",value:function(){this.displayLabels=!this.displayLabels}},{key:"onLabelClicked",value:function(e,n){var i,o;n||(n=this.sdk.engineAPI.cameraAPI.currentViewportEnabled);var a=e.getComponent("label"),s=a.camera.slice(0,3),c=a.camera.slice(3),f={position:(i=t).fromValues.apply(i,u(s)),orientation:(o=r).fromValues.apply(o,u(c))};if(e.linker){var h=e.linker.getGlobalMatrix(),l=e.linker.getGlobalTransform();t.transformMat4(f.position,t.clone(f.position),h),r.mul(f.orientation,l.orientation,r.clone(f.orientation))}this.sdk.engineAPI.cameraAPI.travel(n,Array.from(f.position),Array.from(f.orientation),a.speed),this.currentSelectedLabel=e,this.onLabelSelected(this.currentSelectedLabel)}},{key:"onViewportsUpdated",value:function(t){var e=this;this.viewports=t,this.labelEntities.forEach((function(t){e.removeLabelElements(t.labelElements),e.addLabelElementsToViewports(t.labelElements)}))}},{key:"onFrameRendered",value:function(){var t=this;this.viewports.forEach((function(e){var n=t.computeVisibleLabels(e);t.drawLabels(n)}))}},{key:"computeVisibleLabels",value:function(e){var n=this,r=[];for(var i in this.labelEntities)r.push(a({},this.labelEntities[i].labelElements[e.id],{position:this.labelEntities[i].getGlobalTransform().position}));for(var o=0;o<r.length;++o){var s=e.getAreaSize(),u=r[o],c=t.create();t.transformMat4(c,u.position,e.getViewProjectionMatrix()),u.projectedX=(c[0]+1)/2*s[0],u.projectedY=(1-c[1])/2*s[1],u.projectedZ=c[2],u.containerElement.style.display="None"}if(this.displayLabels){var f=r.filter((function(t){return t.projectedX>.1*-s[0]&&t.projectedX<1.1*s[0]&&t.projectedY>.1*-s[1]&&t.projectedY<1.1*s[1]&&t.projectedZ<1&&t.projectedZ>0}));return f.sort((function(t,e){return e.projectedZ-t.projectedZ})),f.forEach((function(t){if(t.parent==n.canvas.parentElement){var r=e.getOffset();t.projectedX+=r[0],t.projectedY+=r[1]}})),f}return[]}},{key:"computeRelativePos",value:function(){var t=this.canvas.getBoundingClientRect(),e=this.canvas.parentElement.getBoundingClientRect();this.relativePos={x:t.x-e.x,y:t.y-e.y}}},{key:"drawLabels",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;a.containerElement.style.left=(a.projectedX+this.relativePos.x).toFixed(0)+"px",a.containerElement.style.top=(a.projectedY+this.relativePos.y).toFixed(0)+"px",a.containerElement.style.display="Block"}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"computeRadius",value:function(t){return t.image?12*(camera.far-camera.near)*(1-t.projectedZ)/10:12}},{key:"overloadWebAPI",value:function(){this.sdk.webAPI.deletePointOfInterestThumbnail=function(){var t=f(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.httpDelete("scene/deletePointOfInterestThumbnail",{token:this.apiToken,sceneUUID:this.sceneUUID,uuid:e});case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}}])&&h(i.prototype,o),s&&h(i,s),n}(i.a)}.call(this,n(12),n(91))}])}));
//# sourceMappingURL=SDK3DVerse_LabelDisplay_Ext.js.map